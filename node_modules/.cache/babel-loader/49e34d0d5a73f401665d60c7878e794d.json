{"remainingRequest":"F:\\TWINCODE\\twincode-front\\node_modules\\babel-loader\\lib\\index.js!F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\TWINCODE\\twincode-front\\src\\pages\\Playground.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\TWINCODE\\twincode-front\\src\\pages\\Playground.vue","mtime":1630919205994},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC50by1qc29uIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgTWVzc2FnZSBmcm9tICIuLi9jb21wb25lbnRzL01lc3NhZ2UiOwppbXBvcnQgeyBjb2RlbWlycm9yIH0gZnJvbSAidnVlLWNvZGVtaXJyb3IiOwppbXBvcnQgImNvZGVtaXJyb3IvbW9kZS9qYXZhc2NyaXB0L2phdmFzY3JpcHQuanMiOwppbXBvcnQgImNvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuY3NzIjsKCmZ1bmN0aW9uIGRiZyhtc2csIG9iaiwgZmllbGRzKSB7CiAgZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkgewogICAgdmFyIG9yaWdpbmFsT2JqZWN0ID0gdGhpc1trZXldOwoKICAgIGlmIChvcmlnaW5hbE9iamVjdCBpbnN0YW5jZW9mIE1hcCkgewogICAgICByZXR1cm4gewogICAgICAgIGRhdGFUeXBlOiAnTWFwJywKICAgICAgICB2YWx1ZTogQXJyYXkuZnJvbShvcmlnaW5hbE9iamVjdC5lbnRyaWVzKCkpCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CiAgfQoKICBpZiAob2JqKSB7CiAgICBpZiAoZmllbGRzICYmIEFycmF5LmlzQXJyYXkoZmllbGRzKSkgewogICAgICB2YXIgbG9nT2JqID0ge307CgogICAgICBmb3IgKHZhciBmaWVsZCBpbiBvYmopIHsKICAgICAgICBpZiAoZmllbGRzLmluY2x1ZGVzKGZpZWxkKSkgbG9nT2JqW2ZpZWxkXSA9IG9ialtmaWVsZF07CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJERUJVRyAtICIgKyBtc2cgKyAiIDwiICsgSlNPTi5zdHJpbmdpZnkobG9nT2JqLCByZXBsYWNlcikuc2xpY2UoMCwgLTEpICsgIiwuLi59PiIpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coIkRFQlVHIC0gIiArIG1zZyArICIgPCIgKyBKU09OLnN0cmluZ2lmeShvYmosIHJlcGxhY2VyKSArICI+Iik7CiAgICB9CiAgfSBlbHNlIHsKICAgIGNvbnNvbGUubG9nKCJERUJVRyAtICIgKyBtc2cpOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGNvZGVtaXJyb3I6IGNvZGVtaXJyb3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2RlOiAiIiwKICAgICAgY21PcHRpb246IHsKICAgICAgICB0YWJTaXplOiA0LAogICAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSwKICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSwKICAgICAgICBtb2RlOiAidGV4dC9qYXZhc2NyaXB0IgogICAgICB9LAogICAgICBmaXJzdExvYWQ6IHRydWUsCiAgICAgIGF3YWl0aW5nOiBudWxsLAogICAgICBjdXJzb3JMZWZ0UG9zaXRpb246IDAsCiAgICAgIGN1cnNvclRvcFBvc2l0aW9uOiAwLAogICAgICBteU1lc3NhZ2U6ICIiLAogICAgICB1aWQ6ICIiLAogICAgICByaWQ6ICIiLAogICAgICBsYXN0UmVjZWl2ZWQ6ICIiLAogICAgICBleGVyY2lzZURlc2NyaXB0aW9uOiAiUGxlYXNlLCB3YWl0IHVudGlsIHRoZSBleGVyY2lzZSBsb2Fkcy4uLiIsCiAgICAgIGV4ZXJjaXNlTG9hZGVkOiBmYWxzZSwKICAgICAgZXhlcmNpc2VUeXBlOiAiUEFJUiIsCiAgICAgIHRlc3REZXNjcmlwdGlvbjogIiIsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgc3RhcnRpbmc6IHRydWUsCiAgICAgIGxvYWRpbmdUZXN0OiBmYWxzZSwKICAgICAgcGVlckNoYW5nZTogZmFsc2UsCiAgICAgIHRpbWVJbnRlcnZhbDogbnVsbCwKICAgICAgbWF4VGltZTogMCwKICAgICAgdGltZVBhc3NlZDogMCwKICAgICAgaXNFeGVyY2lzZUNvcnJlY3Q6IG51bGwsCiAgICAgIHR3Y2M6IG51bGwsCiAgICAgIGV4Y2VyY2lzZUVycm9yTWVzc2FnZTogIiIsCiAgICAgIHJldHVyblZhbHVlOiAiIiwKICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjb2RlIiksCiAgICAgIHByaW50bG46IHdpbmRvdy5wcmludGxuLAogICAgICBsb2dzOiB3aW5kb3cubG9ncywKICAgICAgaW5wdXRzOiBudWxsLAogICAgICBzb2x1dGlvbnM6IFsxLCA0LCA5LCAxNl0sCiAgICAgIHBlZXJTb2NrZXRJZDogbnVsbCwKICAgICAgdXBkYXRlQ29kZUV2ZW50QWN0aXZlOiB0cnVlCiAgICB9OwogIH0sCiAgZmlsdGVyczogewogICAgc2Vjb25kc1RvU3RyaW5nOiBmdW5jdGlvbiBzZWNvbmRzVG9TdHJpbmcodmFsdWUpIHsKICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHZhbHVlIC8gNjApOwogICAgICB2YXIgc2Vjb25kcyA9IHZhbHVlIC0gbWludXRlcyAqIDYwOwogICAgICByZXR1cm4gIiIuY29uY2F0KG1pbnV0ZXMsICI6IikuY29uY2F0KCgiMCIgKyBzZWNvbmRzKS5zbGljZSgtMikpOwogICAgfQogIH0sCiAgc29ja2V0czogewogICAgbXNnOiBmdW5jdGlvbiBtc2cocGFjaykgewogICAgICBkYmcoIkVWRU5UIG1zZyIsIHBhY2spOwoKICAgICAgaWYgKHBhY2sudWlkICE9IHRoaXMudWlkICYmIHBhY2sucmlkID09IHRoaXMucmlkKSB7CiAgICAgICAgY29uc29sZS5sb2coIm5ld01zZyBldmVudCB0cmlnZ2VyZWQgd2l0aCBkYXRhIDwiICsgdGhpcy50b0pTT04ocGFjaykgKyAiPiAiKTsKICAgICAgICB0aGlzLm5ld01lc3NhZ2UocGFjay5kYXRhLCBmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoQ29kZTogZnVuY3Rpb24gcmVmcmVzaENvZGUocGFjaykgewogICAgICBkYmcoIkVWRU5UIHJlZnJlc2hDb2RlIiwgcGFjayk7IC8vIFRvbyBleHBlbnNpdmUgRGVidWcgbG9nCiAgICAgIC8vY29uc29sZS5sb2coInRleHQgZXZlbnQgdHJpZ2dlcmVkIHdpdGggZGF0YSA8IiArIHRoaXMudG9KU09OKHBhY2spICsgIj4gIik7CgogICAgICB0aGlzLiRyZWZzLmNtRWRpdG9yLmNvZGVtaXJyb3IucmVwbGFjZVJhbmdlKHBhY2suY2hhbmdlLnRleHQsIHBhY2suY2hhbmdlLmZyb20sIHBhY2suY2hhbmdlLnRvLCAic2VydmVyIik7CiAgICB9LAogICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkYmcoIkVWRU5UIGZpbmlzaCIpOwogICAgICBjb25zb2xlLmxvZygiRVZFTlQgZmluaXNoIHRyaWdlcmVkISIpOwogICAgICBmZXRjaChwcm9jZXNzLmVudi5WVUVfQVBQX1RDX0FQSSArICIvZmluaXNoTWVzc2FnZT9jb2RlPSIgKyBsb2NhbFN0b3JhZ2UuY29kZSwgewogICAgICAgIG1ldGhvZDogIkdFVCIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICBfdGhpcy5maW5pc2hNZXNzYWdlID0gcmVzcG9uc2UuZmluaXNoTWVzc2FnZTsKCiAgICAgICAgX3RoaXMuJHNvY2tldC5jbGllbnQuZW1pdCgiY2xpZW50RmluaXNoZWQiLCB7CiAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLnRva2VuLAogICAgICAgICAgY29kZTogbG9jYWxTdG9yYWdlLmNvZGUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZFRlc3Q6IGZ1bmN0aW9uIGxvYWRUZXN0KHBhY2spIHsKICAgICAgZGJnKCJFVkVOVCBsb2FkVGVzdCIsIHBhY2spOwogICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7CiAgICAgIHRoaXMubG9hZGluZ1Rlc3QgPSB0cnVlOwogICAgICB0aGlzLnN0YXJ0aW5nID0gZmFsc2U7CiAgICAgIHRoaXMudGVzdERlc2NyaXB0aW9uID0gcGFjay5kYXRhLnRlc3REZXNjcmlwdGlvbjsKICAgICAgdGhpcy5wZWVyQ2hhbmdlID0gcGFjay5kYXRhLnBlZXJDaGFuZ2U7CiAgICAgIHRoaXMuJHJlZnMubWVzc2FnZUNvbnRhaW5lci5pbm5lckhUTUwgPSAiIjsKICAgICAgdGhpcy5jb2RlID0gIiI7CiAgICAgIHRoaXMuY2xlYXJSZXN1bHQoKTsKICAgIH0sCiAgICBjdXJzb3JBY3Rpdml0eTogZnVuY3Rpb24gY3Vyc29yQWN0aXZpdHkoZGF0YSkgewogICAgICBkYmcoIkVWRU5UIGN1cnNvckFjdGl2aXR5IiwgZGF0YSk7CiAgICAgIHRoaXMuY3Vyc29yTGVmdFBvc2l0aW9uID0gZGF0YS5sZWZ0OwogICAgICB0aGlzLmN1cnNvclRvcFBvc2l0aW9uID0gZGF0YS50b3A7CiAgICAgIHRoaXMudXBkYXRlQ3Vyc29yTG9jYXRpb24oKTsKICAgIH0sCiAgICBuZXdFeGVyY2lzZTogZnVuY3Rpb24gbmV3RXhlcmNpc2UocGFjaykgewogICAgICBkYmcoIkVWRU5UIG5ld0V4ZXJjaXNlIiwgcGFjayk7CiAgICAgIHRoaXMubG9hZGluZ1Rlc3QgPSBmYWxzZTsKICAgICAgdGhpcy5zdGFydGluZyA9IGZhbHNlOwogICAgICB0aGlzLnRpbWVQYXNzZWQgPSAwOwogICAgICB0aGlzLmlzRXhlcmNpc2VDb3JyZWN0ID0gbnVsbDsKICAgICAgdGhpcy4kcmVmcy50aW1lQmFyLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICB0aGlzLiRyZWZzLnRpbWVCYXIuY2xhc3NMaXN0LnJlbW92ZSgiYmctcmVkLTUwMCIpOwogICAgICB0aGlzLiRyZWZzLnRpbWVCYXIuY2xhc3NMaXN0LmFkZCgiYmctZ3JlZW4tNTAwIik7CiAgICAgIHRoaXMuZXhlcmNpc2VEZXNjcmlwdGlvbiA9IHBhY2suZGF0YS5leGVyY2lzZURlc2NyaXB0aW9uOwogICAgICB0aGlzLmV4ZXJjaXNlVHlwZSA9IHBhY2suZGF0YS5leGVyY2lzZVR5cGU7CiAgICAgIHRoaXMubWF4VGltZSA9IHBhY2suZGF0YS5tYXhUaW1lOwogICAgICB0aGlzLmlucHV0cyA9IHBhY2suZGF0YS5pbnB1dHM7CiAgICAgIHRoaXMuY2xlYXJSZXN1bHQoKTsKICAgIH0sCiAgICByZWNvbm5lY3Q6IGZ1bmN0aW9uIHJlY29ubmVjdCgpIHsKICAgICAgZGJnKCJFVkVOVCByZWNvbm5lY3QiKTsKICAgICAgdGhpcy4kc29ja2V0LmNsaWVudC5lbWl0KCJjbGllbnRSZWNvbm5lY3Rpb24iLCBsb2NhbFN0b3JhZ2UudG9rZW4pOwogICAgfSwKICAgIGNvdW50RG93bjogZnVuY3Rpb24gY291bnREb3duKHBhY2spIHsKICAgICAgLy9kYmcoIkVWRU5UIGNvdW50RG93biIscGFjayk7CiAgICAgIHRoaXMudGltZVBhc3NlZCA9IHRoaXMubWF4VGltZSAtIHBhY2suZGF0YTsKICAgICAgdmFyIGZhY3RvciA9IDEwMCAvIHRoaXMubWF4VGltZTsKICAgICAgdmFyIHdpZHRoID0gcGFyc2VGbG9hdCh0aGlzLiRyZWZzLnRpbWVCYXIuc3R5bGUud2lkdGgsIDEwKSAtIGZhY3RvcjsKICAgICAgdGhpcy4kcmVmcy50aW1lQmFyLnN0eWxlLndpZHRoID0gd2lkdGggKyAiJSI7CgogICAgICBpZiAod2lkdGggPCAyMCkgewogICAgICAgIHRoaXMuJHJlZnMudGltZUJhci5jbGFzc0xpc3QucmVtb3ZlKCJiZy15ZWxsb3ctNTAwIik7CiAgICAgICAgdGhpcy4kcmVmcy50aW1lQmFyLmNsYXNzTGlzdC5hZGQoImJnLXJlZC01MDAiKTsKICAgICAgfSBlbHNlIGlmICh3aWR0aCA8IDQwKSB7CiAgICAgICAgdGhpcy4kcmVmcy50aW1lQmFyLmNsYXNzTGlzdC5yZW1vdmUoImJnLWdyZWVuLTUwMCIpOwogICAgICAgIHRoaXMuJHJlZnMudGltZUJhci5jbGFzc0xpc3QuYWRkKCJiZy15ZWxsb3ctNTAwIik7CiAgICAgIH0KICAgIH0sCiAgICByZXF1ZXN0QnVsa0NvZGVFdmVudDogZnVuY3Rpb24gcmVxdWVzdEJ1bGtDb2RlRXZlbnQocGVlclNvY2tldElkKSB7CiAgICAgIGRiZygiRVZFTlQgcmVxdWVzdEJ1bGtDb2RlRXZlbnQiKTsKICAgICAgdmFyIGN1cnJlbnRDb2RlID0gdGhpcy4kcmVmcy5jbUVkaXRvci5jb2RlbWlycm9yLmdldFZhbHVlKCk7CiAgICAgIGRiZygiRVZFTlQgcmVxdWVzdEJ1bGtDb2RlRXZlbnQgLSBjb2RlIDogXCIiICsgY3VycmVudENvZGUgKyAiXCIiKTsKCiAgICAgIGlmICh0aGlzLnBlZXJTb2NrZXRJZCAhPSBwZWVyU29ja2V0SWQpIHsKICAgICAgICB0aGlzLnBlZXJTb2NrZXRJZCA9IHBlZXJTb2NrZXRJZDsKICAgICAgICB0aGlzLiRzb2NrZXQuY2xpZW50LmVtaXQoImJ1bGtDb2RlIiwgdGhpcy5wYWNrKHsKICAgICAgICAgIHBlZXJTb2NrZXRJZDogcGVlclNvY2tldElkLAogICAgICAgICAgY29kZTogY3VycmVudENvZGUKICAgICAgICB9KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGJnKCJFVkVOVCByZXF1ZXN0QnVsa0NvZGVFdmVudCAtIElHTk9SRUQgYmVjYXVzZSBwZWVyU29ja2V0SWQgZGlkbid0IGNoYW5nZWQiKTsKICAgICAgfQogICAgfSwKICAgIGJ1bGtDb2RlVXBkYXRlOiBmdW5jdGlvbiBidWxrQ29kZVVwZGF0ZShjb2RlKSB7CiAgICAgIGRiZygiRVZFTlQgYnVsa0NvZGVVcGRhdGUiLCBjb2RlKTsKICAgICAgdmFyIGN1cnJlbnRDb2RlID0gdGhpcy4kcmVmcy5jbUVkaXRvci5jb2RlbWlycm9yLmdldFZhbHVlKCk7CiAgICAgIGNvbnNvbGUubG9nOwoKICAgICAgaWYgKGN1cnJlbnRDb2RlICE9IGNvZGUpIHsKICAgICAgICB0aGlzLnVwZGF0ZUNvZGVFdmVudEFjdGl2ZSA9IGZhbHNlOwogICAgICAgIHRoaXMuJHJlZnMuY21FZGl0b3IuY29kZW1pcnJvci5zZXRWYWx1ZShjb2RlKTsKICAgICAgICB0aGlzLnVwZGF0ZUNvZGVFdmVudEFjdGl2ZSA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBkYmcoImNyZWF0ZWQgLSBpbml0Iik7CiAgICB2YXIgcGF0aFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgiLyIpOwogICAgdGhpcy5yaWQgPSBwYXRoUGFyYW1zWzNdICsgIjoiICsgcGF0aFBhcmFtc1syXTsKICAgIHRoaXMudWlkID0gbmV3IFN0cmluZyhuZXcgRGF0ZSgpLmdldFRpbWUoKSArIG5ldyBEYXRlKCkuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpLnN1YnN0cig4LCAxMyk7CiAgICB0aGlzLiRzb2NrZXQuY2xpZW50LmVtaXQoImNsaWVudFJlY29ubmVjdGlvbiIsIGxvY2FsU3RvcmFnZS50b2tlbik7CiAgfSwKICB3YXRjaDogewogICAgY3Vyc29yVG9wUG9zaXRpb246IGZ1bmN0aW9uIGN1cnNvclRvcFBvc2l0aW9uKHZhbCkgewogICAgICBjb25zb2xlLmxvZyh2YWwpOwogICAgfSwKICAgIGN1cnNvckxlZnRQb3NpdGlvbjogZnVuY3Rpb24gY3Vyc29yTGVmdFBvc2l0aW9uKHZhbCkgewogICAgICBjb25zb2xlLmxvZyh2YWwpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkgewogICAgICBkYmcoIm1ldGhvZCBzZW5kTWVzc2FnZSAtIGluaXQiLCB0aGlzLm15TWVzc2FnZSk7CgogICAgICBpZiAodGhpcy5leGVyY2lzZVR5cGUgPT0gIlBBSVIiKSB7CiAgICAgICAgdGhpcy5uZXdNZXNzYWdlKHRoaXMubXlNZXNzYWdlLCB0cnVlKTsKICAgICAgICB0aGlzLiRzb2NrZXQuY2xpZW50LmVtaXQoIm1zZyIsIHRoaXMucGFjayh0aGlzLm15TWVzc2FnZSkpOwogICAgICAgIHRoaXMubXlNZXNzYWdlID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBuZXdNZXNzYWdlOiBmdW5jdGlvbiBuZXdNZXNzYWdlKG1zZywgbWluZSkgewogICAgICBkYmcoIm1ldGhvZCBuZXdNZXNzYWdlIC0gaW5pdCIsIG1zZyk7CiAgICAgIHZhciBNZXNzYWdlQ2xhc3MgPSBWdWUuZXh0ZW5kKE1lc3NhZ2UpOwogICAgICB2YXIgZ2VuZGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInBhaXJlZFRvIikgPT09ICdGZW1hbGUnOwogICAgICBnZW5kZXIgPSB0aGlzLnBlZXJDaGFuZ2UgPyAhZ2VuZGVyIDogZ2VuZGVyOwogICAgICBnZW5kZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpLmJsaW5kID8gbnVsbCA6IGdlbmRlcjsKICAgICAgdmFyIG1zZ0luc3RhbmNlID0gbmV3IE1lc3NhZ2VDbGFzcyh7CiAgICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgICBtaW5lOiBtaW5lLAogICAgICAgICAgbWVzc2FnZTogbXNnLAogICAgICAgICAgZ2lybDogZ2VuZGVyCiAgICAgICAgfQogICAgICB9KTsKICAgICAgbXNnSW5zdGFuY2UuJG1vdW50KCk7CiAgICAgIHRoaXMuJHJlZnMubWVzc2FnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChtc2dJbnN0YW5jZS4kZWwpOwogICAgICB2YXIgY29udGFpbmVyID0gdGhpcy4kcmVmcy5tZXNzYWdlQ29udGFpbmVyOwogICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbEhlaWdodDsKICAgIH0sCiAgICB2YWxpZFB5dGhvbjogZnVuY3Rpb24gdmFsaWRQeXRob24oKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJicnl0aG9uQnV0dG9uIikuY2xpY2soKTsgLy9jb25zb2xlLmxvZyh0aGlzLnNvbHV0aW9ucysiICAgICAgICAgICIrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc3VsdHNUb1ZhbGlkYXRlIikuaW5uZXJIVE1MKTsKCiAgICAgIHZhciBzb2x1dGlvbnNDb21waWxlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXN1bHRzVG9WYWxpZGF0ZSIpLmlubmVySFRNTDsKICAgICAgLyoNCiAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXN1bHRzVG9WYWxpZGF0ZSIpLmlubmVySFRNTCA9PSB0aGlzLnNvbHV0aW9ucysiIikgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzdWx0c1RvVmFsaWRhdGUiKS5pbm5lckhUTUwgPSAiWW91ciBhbnN3ZXIgaXMgY29ycmVjdCEiDQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXN1bHRzVG9WYWxpZGF0ZSIpLnN0eWxlID0gInZpc2liaWxpdHk6IHZpc2libGU7IGJhY2tncm91bmQtY29sb3I6IGhzbGEoODksIDQzJSwgNTElLCAwLjMpOyBib3JkZXItcmFkaXVzOiA3cHg7IGNvbG9yOiBncmVlbjsgcGFkZGluZzogNXB4OyBtYXJnaW4tdG9wOiA3cHgiOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc3VsdHNUb1ZhbGlkYXRlIikuaW5uZXJIVE1MID0gIllvdXIgYW5zd2VyIGlzIG5vdCBjb3JyZWN0Ig0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzdWx0c1RvVmFsaWRhdGUiKS5zdHlsZSA9ICJ2aXNpYmlsaXR5OiB2aXNpYmxlOyBiYWNrZ3JvdW5kLWNvbG9yOiBoc2xhKDAsIDEwMCUsIDUxJSwgMC4zKTsgYm9yZGVyLXJhZGl1czogN3B4OyBjb2xvcjogcmVkOyBwYWRkaW5nOiA1cHg7IG1hcmdpbi10b3A6IDdweCI7DQogICAgICB9DQogICAgICAqLwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgdG9WYWxpZGF0ZSA9IFtdOyAvL2NvbnNvbGUubG9nKHNvbHV0aW9uc0NvbXBpbGVkLnNwbGl0KCIsIikpOwoKICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHNvbHV0aW9uc0NvbXBpbGVkLnNwbGl0KCIsIikubGVuZ3RoOyBzKyspIHsKICAgICAgICAgIHZhciB0ID0gc29sdXRpb25zQ29tcGlsZWQuc3BsaXQoIiwiKVtzXTsgLy9jb25zb2xlLmxvZyh0KTsKCiAgICAgICAgICB2YXIgc29sID0gTnVtYmVyKHQpOwoKICAgICAgICAgIGlmIChpc05hTihzb2wpKSB7CiAgICAgICAgICAgIHNvbCA9IHQudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgdmFyIHNvbDIgPSBzb2wgPT0gJ3RydWUnIHx8IHNvbCA9PSAnZmFsc2UnOwoKICAgICAgICAgICAgaWYgKHNvbDIgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICBzb2wgPSB0OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNvbCA9IHQudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZSc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB0b1ZhbGlkYXRlLnB1c2goc29sKTsKICAgICAgICB9IC8vY29uc29sZS5sb2codG9WYWxpZGF0ZSk7CgoKICAgICAgICB0aGlzLnZhbGlkKHRvVmFsaWRhdGUpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5pc0V4ZXJjaXNlQ29ycmVjdCA9IGZhbHNlOwogICAgICAgIHRoaXMuZXhjZXJjaXNlRXJyb3JNZXNzYWdlID0gZTsKICAgICAgICBjb25zb2xlLmxvZygiRVJST1IgSEVSRTogIiwgZSk7CiAgICAgIH0KICAgICAgLypFeGFtcGxlOg0KICAgICAgb3V0cHV0cyA9IFtdDQogICAgICBmb3IgaSBpbiBpbnB1dHM6DQogICAgICAgIG91dHB1dHMuYXBwZW5kKGkqaSkNCiAgICAgICovCgogICAgfSwKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBkYmcoIm1ldGhvZCB2YWxpZGF0ZSAtIGluaXQiLCB0aGlzLmNvZGUpOwogICAgICB0aGlzLmNsZWFyUmVzdWx0KCk7CgogICAgICB0cnkgewogICAgICAgIHZhciBzb2x1dGlvbnMgPSBbXTsKICAgICAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCkgewogICAgICAgICAgc29sdXRpb25zLnB1c2goZXZhbCgidmFyIGlucHV0cz0iICsgSlNPTi5zdHJpbmdpZnkoaW5wdXQpICsgIjsiICsgX3RoaXMyLmNvZGUgKyAiOyBvdXRwdXRzOyIpKTsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygiSW5wdXRzOiAiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5pbnB1dHMpKTsKICAgICAgICBjb25zb2xlLmxvZygiT3V0cHV0czogIiArIEpTT04uc3RyaW5naWZ5KHNvbHV0aW9ucykpOwogICAgICAgIGNvbnNvbGUubG9nKHNvbHV0aW9ucyk7CiAgICAgICAgdGhpcy52YWxpZChzb2x1dGlvbnMpOwogICAgICAgIC8qaWYgKHJldCkgew0KICAgICAgICAgIHRoaXMudmFsaWQocmV0KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmlzRXhlcmNpc2VDb3JyZWN0ID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5leGNlcmNpc2VFcnJvck1lc3NhZ2UgPSAiWW91IHNob3VsZCByZXR1cm4gdGhlIHNvbHV0aW9uLiI7DQogICAgICAgIH0qLwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5pc0V4ZXJjaXNlQ29ycmVjdCA9IGZhbHNlOwogICAgICAgIHRoaXMuZXhjZXJjaXNlRXJyb3JNZXNzYWdlID0gZTsKICAgICAgICBjb25zb2xlLmxvZygiRVJST1IgSEVSRTogIiwgZSk7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhclJlc3VsdDogZnVuY3Rpb24gY2xlYXJSZXN1bHQoKSB7CiAgICAgIGRiZygibWV0aG9kIGNsZWFyUmVzdWx0IC0gaW5pdCIpOwogICAgICB0aGlzLmlzRXhlcmNpc2VDb3JyZWN0ID0gbnVsbDsKICAgICAgdGhpcy5leGNlcmNpc2VFcnJvck1lc3NhZ2UgPSAiIjsKICAgICAgdGhpcy5yZXR1cm5WYWx1ZSA9ICIiOwogICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICIiOwogICAgICB3aW5kb3cubG9ncyA9IFtdOwogICAgICB0aGlzLmxvZ3MgPSB3aW5kb3cubG9nczsKICAgIH0sCiAgICB2YWxpZDogZnVuY3Rpb24gdmFsaWQodikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGRiZygibWV0aG9kIHZhbGlkIC0gaW5pdCIsIHYpOwoKICAgICAgaWYgKHRoaXMuZXhlcmNpc2VUeXBlICE9ICdERU1PJykgewogICAgICAgIGZldGNoKHByb2Nlc3MuZW52LlZVRV9BUFBfVENfQVBJICsgIi92ZXJpZnkiLCB7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgc29sdXRpb25zOiB2LAogICAgICAgICAgICB1c2VyOiBsb2NhbFN0b3JhZ2UudG9rZW4sCiAgICAgICAgICAgIHNvdXJjZTogImZ1bmN0aW9uIG1haW4oaW5wdXRzKSB7ICIgKyB0aGlzLiRyZWZzLmNtRWRpdG9yLmNvZGVtaXJyb3IuZ2V0VmFsdWUoKSArICJyZXR1cm4gb3V0cHV0czsiICsgIn0iCiAgICAgICAgICB9KSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIF90aGlzMy5pc0V4ZXJjaXNlQ29ycmVjdCA9IGRhdGEucmVzdWx0OwogICAgICAgICAgICAgIF90aGlzMy50d2NjID0gZGF0YS50d2NjOwogICAgICAgICAgICAgIF90aGlzMy5yZXR1cm5WYWx1ZSA9IHY7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNFeGVyY2lzZUNvcnJlY3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5kZW1vRXhlcmNpc2UpLnNvbHV0aW9uID09PSB2OwogICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSB2OwogICAgICB9CiAgICB9LAogICAgb25DbUJsdXI6IGZ1bmN0aW9uIG9uQ21CbHVyKGNtKSB7CiAgICAgIGNvbnNvbGUubG9nKCJjbSBibHVyISIsIGNtKTsKICAgIH0sCiAgICBvbkNtRm9jdXM6IGZ1bmN0aW9uIG9uQ21Gb2N1cyhjbSkgewogICAgICBjb25zb2xlLmxvZygiY20gZm9jdXMhIiwgY20pOwogICAgfSwKICAgIG9uQ21SZWFkeTogZnVuY3Rpb24gb25DbVJlYWR5KGNtKSB7CiAgICAgIGNvbnNvbGUubG9nKCJjbSByZWFkeSEiLCBjbSk7CiAgICB9LAogICAgZXhpdERlbW86IGZ1bmN0aW9uIGV4aXREZW1vKCkgewogICAgICBkYmcoIm1ldGhvZCBleGl0RGVtbyAtIGluaXQiKTsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVJbnRlcnZhbCk7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgbG9hZERlbW9FeGVyY2lzZTogZnVuY3Rpb24gbG9hZERlbW9FeGVyY2lzZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBkYmcoIm1ldGhvZCBsb2FkRGVtb0V4ZXJjaXNlIC0gaW5pdCIpOwogICAgICB2YXIgZGVtb0V4ZXJjaXNlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZGVtb0V4ZXJjaXNlKTsKICAgICAgdGhpcy5zdGFydGluZyA9IGZhbHNlOwogICAgICB0aGlzLm1heFRpbWUgPSBkZW1vRXhlcmNpc2UudGltZTsKICAgICAgdGhpcy5leGVyY2lzZURlc2NyaXB0aW9uID0gZGVtb0V4ZXJjaXNlLmRlc2NyaXB0aW9uOwogICAgICB0aGlzLmV4ZXJjaXNlVHlwZSA9ICJERU1PIjsKICAgICAgdGhpcy50aW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnRpbWVQYXNzZWQrKzsKICAgICAgICBjb25zb2xlLmxvZygiQ291bnRpbmcgZG93biEiKTsKICAgICAgICB2YXIgZmFjdG9yID0gMTAwIC8gX3RoaXM0Lm1heFRpbWU7CiAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VGbG9hdChfdGhpczQuJHJlZnMudGltZUJhci5zdHlsZS53aWR0aCwgMTApIC0gZmFjdG9yOwogICAgICAgIF90aGlzNC4kcmVmcy50aW1lQmFyLnN0eWxlLndpZHRoID0gd2lkdGggKyAiJSI7CgogICAgICAgIGlmICh3aWR0aCA8IDIwKSB7CiAgICAgICAgICBfdGhpczQuJHJlZnMudGltZUJhci5jbGFzc0xpc3QucmVtb3ZlKCJiZy15ZWxsb3ctNTAwIik7CgogICAgICAgICAgX3RoaXM0LiRyZWZzLnRpbWVCYXIuY2xhc3NMaXN0LmFkZCgiYmctcmVkLTUwMCIpOwogICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCA0MCkgewogICAgICAgICAgX3RoaXM0LiRyZWZzLnRpbWVCYXIuY2xhc3NMaXN0LnJlbW92ZSgiYmctZ3JlZW4tNTAwIik7CgogICAgICAgICAgX3RoaXM0LiRyZWZzLnRpbWVCYXIuY2xhc3NMaXN0LmFkZCgiYmcteWVsbG93LTUwMCIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzNC50aW1lUGFzc2VkID4gX3RoaXM0Lm1heFRpbWUpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXM0LnRpbWVJbnRlcnZhbCk7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBwYWNrOiBmdW5jdGlvbiBwYWNrKGRhdGEpIHsKICAgICAgZGJnKCJtZXRob2QgcGFjayAtIGluaXQiLCBkYXRhKTsKICAgICAgcmV0dXJuIHsKICAgICAgICByaWQ6IHRoaXMucmlkLAogICAgICAgIHVpZDogdGhpcy51aWQsCiAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS50b2tlbiwKICAgICAgICBkYXRhOiBkYXRhCiAgICAgIH07CiAgICB9LAogICAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04ob2JqKSB7CiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpOwogICAgfSwKICAgIGV2YWx1YXRlQ29kZTogZnVuY3Rpb24gZXZhbHVhdGVDb2RlKGNvZGUpIHsKICAgICAgZXZhbChjb2RlKTsKICAgIH0sCiAgICBoYW5kbGVSZXNpemU6IGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZSgpIHsKICAgICAgdmFyIGVsZW1lbnRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiQ29kZU1pcnJvci1zY3JvbGwiKVswXTsKICAgICAgdmFyIG5ld0xlZnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29kZW1pcnJvciIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyB0aGlzLmN1cnNvckxlZnRQb3NpdGlvbiArIDMwIC0gZWxlbWVudG8uc2Nyb2xsTGVmdDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhaXJDdXJzb3IiKS5zdHlsZS5sZWZ0ID0gbmV3TGVmdCArICJweCI7CiAgICB9LAogICAgaGFuZGxlU2Nyb2xsOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIHZhciBjbVdpZHRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGVtaXJyb3IiKS5vZmZzZXRXaWR0aDsKICAgICAgdmFyIGNtSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGVtaXJyb3IiKS5vZmZzZXRIZWlnaHQgKyAxOTsKICAgICAgdmFyIGVsZW1lbnRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiQ29kZU1pcnJvci1zY3JvbGwiKVswXTsKICAgICAgdmFyIG5ld1RvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2RlbWlycm9yIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgdGhpcy5jdXJzb3JUb3BQb3NpdGlvbiArIDUgLSBlbGVtZW50by5zY3JvbGxUb3A7CiAgICAgIHZhciBuZXdMZWZ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGVtaXJyb3IiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgdGhpcy5jdXJzb3JMZWZ0UG9zaXRpb24gKyAzMCAtIGVsZW1lbnRvLnNjcm9sbExlZnQ7CgogICAgICBpZiAoY21XaWR0aCA+IG5ld0xlZnQpIHsKICAgICAgICB0aGlzLiRyZWZzLnBhaXJDdXJzb3Iuc3R5bGUubGVmdCA9IG5ld0xlZnQgKyAicHgiOwogICAgICB9CgogICAgICBpZiAoY21IZWlnaHQgPiBuZXdUb3ApIHsKICAgICAgICB0aGlzLiRyZWZzLnBhaXJDdXJzb3Iuc3R5bGUudG9wID0gbmV3VG9wICsgInB4IjsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coZWxlbWVudG8uc2Nyb2xsVG9wKTsKICAgIH0sCiAgICBpbnB1dFJlYWQ6IGZ1bmN0aW9uIGlucHV0UmVhZChpLCBjKSB7CiAgICAgIGlmICh0aGlzLnVwZGF0ZUNvZGVFdmVudEFjdGl2ZSkgdGhpcy4kc29ja2V0LmNsaWVudC5lbWl0KCJ1cGRhdGVDb2RlIiwgYyk7CiAgICB9LAogICAgY3Vyc29yQWN0aXZpdHk6IGZ1bmN0aW9uIGN1cnNvckFjdGl2aXR5KGRvYykgewogICAgICBkYmcoIm1ldGhvZCBjdXJzb3JBY3Rpdml0eSAtIGluaXQiKTsKICAgICAgdGhpcy4kc29ja2V0LmNsaWVudC5lbWl0KCJjdXJzb3JBY3Rpdml0eSIsIGRvYy5jdXJzb3JDb29yZHMoZmFsc2UsICJyZWxhdGl2ZSIpKTsKICAgIH0sCiAgICBvbkNtQ29kZUNoYW5nZTogZnVuY3Rpb24gb25DbUNvZGVDaGFuZ2UoZSwgYykgewogICAgICB2YXIgY2hhbmdlT2JqID0gewogICAgICAgIGF1dGhvcjogdGhpcy4kc29ja2V0LmNsaWVudC5pZCwKICAgICAgICBjaGFuZ2U6IGMKICAgICAgfTsKCiAgICAgIGlmIChjLm9yaWdpbiAhPSAic2VydmVyIikgewogICAgICAgIGlmICh0aGlzLnVwZGF0ZUNvZGVFdmVudEFjdGl2ZSkgdGhpcy4kc29ja2V0LmNsaWVudC5lbWl0KCJ1cGRhdGVDb2RlIiwgdGhpcy5wYWNrKGNoYW5nZU9iaikpOwogICAgICB9CgogICAgICB0aGlzLmZpcnN0TG9hZCA9IGZhbHNlOwogICAgfSwKICAgIHVwZGF0ZUN1cnNvckxvY2F0aW9uOiBmdW5jdGlvbiB1cGRhdGVDdXJzb3JMb2NhdGlvbigpIHsKICAgICAgdmFyIGNtV2lkdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29kZW1pcnJvciIpLm9mZnNldFdpZHRoOwogICAgICB2YXIgY21IZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29kZW1pcnJvciIpLm9mZnNldEhlaWdodDsKICAgICAgY29uc29sZS5sb2coY21IZWlnaHQpOwogICAgICB2YXIgZWxlbWVudG8gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJDb2RlTWlycm9yLXNjcm9sbCIpWzBdOwogICAgICB2YXIgdG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvZGVtaXJyb3IiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB0aGlzLmN1cnNvclRvcFBvc2l0aW9uICsgNSAtIGVsZW1lbnRvLnNjcm9sbFRvcDsKICAgICAgdmFyIGxlZnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29kZW1pcnJvciIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyB0aGlzLmN1cnNvckxlZnRQb3NpdGlvbiArIDMwIC0gZWxlbWVudG8uc2Nyb2xsTGVmdDsKICAgICAgY29uc29sZS5sb2codG9wKTsKICAgICAgY29uc29sZS5sb2coY21IZWlnaHQpOwoKICAgICAgaWYgKGNtV2lkdGggPiBsZWZ0KSB7CiAgICAgICAgdGhpcy4kcmVmcy5wYWlyQ3Vyc29yLnN0eWxlLmxlZnQgPSBsZWZ0ICsgInB4IjsKICAgICAgfQoKICAgICAgaWYgKGNtSGVpZ2h0ID4gdG9wKSB7CiAgICAgICAgdGhpcy4kcmVmcy5wYWlyQ3Vyc29yLnN0eWxlLnRvcCA9IHRvcCArICJweCI7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjbUVkaXRvcjogZnVuY3Rpb24gY21FZGl0b3IoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLmNtRWRpdG9yLmNvZGVtaXJyb3I7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZGJnKCJtb3VudGVkIC0gaW5pdCIpOwogICAgdGhpcy4kcmVmcy5jbUVkaXRvci5jb2RlbWlycm9yLm9uKCJjaGFuZ2UiLCB0aGlzLm9uQ21Db2RlQ2hhbmdlKTsKICAgIHRoaXMuJHJlZnMuY21FZGl0b3IuY29kZW1pcnJvci5vbigiY3Vyc29yQWN0aXZpdHkiLCB0aGlzLmN1cnNvckFjdGl2aXR5KTsKICAgIHZhciBlbGVtZW50byA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIkNvZGVNaXJyb3Itc2Nyb2xsIilbMF07CiAgICBlbGVtZW50by5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmhhbmRsZVNjcm9sbCk7IC8vIEN1cnNvciBmdW5jdGlvbmFsaXkgZGlzYWJsZWQKCiAgICAvKmxldCB0b2dnbGUgPSB0cnVlOw0KICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkgew0KICAgICAgaWYgKHRvZ2dsZSkgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFpckN1cnNvciIpLmNsYXNzTGlzdC5hZGQoImludmlzaWJsZSIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhaXJDdXJzb3IiKS5jbGFzc0xpc3QucmVtb3ZlKCJpbnZpc2libGUiKTsNCiAgICAgIH0NCiAgICAgIHRvZ2dsZSA9ICF0b2dnbGU7DQogICAgfSwgNzUwKTsqLwogICAgLy8gRGlzYWJsZSBjdHJsK3Mgc2hvcnRrZXkgaW4gV2luZG93cyBvciBMaW51eAoKICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSB7CiAgICAgICAgc3dpdGNoIChTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LndoaWNoKS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBjYXNlICJzIjoKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHRoaXMuJHJlZnMudGltZUJhci5zdHlsZS53aWR0aCA9ICIiLmNvbmNhdCgodGhpcy5tYXhUaW1lIC0gdGhpcy50aW1lUGFzc2VkKSAvIHRoaXMubWF4VGltZSAqIDEwMCwgIiUiKTsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmRlbW9FeGVyY2lzZSkgewogICAgICB0aGlzLmxvYWREZW1vRXhlcmNpc2UoKTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkYmcoImJlZm9yZURlc3Ryb3kgLSBpbml0Iik7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5oYW5kbGVTY3JvbGwpOwogICAgdmFyIGVsZW1lbnRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiQ29kZU1pcnJvci1zY3JvbGwiKVswXTsKCiAgICBpZiAoZWxlbWVudG8pIHsKICAgICAgZWxlbWVudG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kbGVTY3JvbGwpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Playground.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container h-screen mx-auto\" v-if=\"!finished\">\r\n      <div class=\"shadow w-full bg-grey-light h-3\">\r\n        <div\r\n          ref=\"timeBar\"\r\n          class=\"bg-green-500 text-xs leading-none py-1 text-center text-white h-3\"\r\n          style=\"transition: 1s; width: 100%;\"\r\n        ></div>\r\n      </div>\r\n      <div v-if=\"exerciseType == 'DEMO'\" >\r\n          <div class=\"m-3 p-1 bg-yellow-200 border border-yellow-700 rounded-sm\">\r\n            <a class=\"ml-2 text-sm text-yellow-900 underline cursor-pointer\" @click=\"exitDemo()\">Click here to end the demo.</a>\r\n          </div>\r\n      </div>\r\n      <div class=\"flex h-full flex-wrap\">\r\n        <div class=\"w-2/3 p-2\">\r\n          <div>{{ (maxTime - timePassed) | secondsToString }}</div>\r\n          <div v-html=\"exerciseDescription\"></div>\r\n          <div style=\"height: 70vh;\" @keyup.ctrl.83=\"validate\" >\r\n            <div\r\n              ref=\"pairCursor\"\r\n              id=\"pairCursor\"\r\n              class=\"absolute bg-yellow-500 hidden\"\r\n            ></div>\r\n            <br/>\r\n            <pre><p class=\"text-purple-800 inline\">function</p> main(inputs) {</pre>\r\n            <codemirror\r\n              ref=\"cmEditor\"\r\n              v-model=\"code\"\r\n              id=\"codemirror\"\r\n              :options=\"cmOption\"\r\n              :events=\"['inputRead', 'change']\"\r\n            ></codemirror>\r\n        <pre style=\"visibility: hidden;\" id=\"codePre\">{{code}}</pre>\r\n        <pre style=\"visibility: hidden;\" id=\"listInputs\">{{inputs}}</pre>\r\n            <pre>     <p class=\"text-pink-700 inline\">return</p> outputs;</pre>\r\n            <pre>}</pre>\r\n            <br/>\r\n          </div>\r\n          <div\r\n            v-if=\"isExerciseCorrect\"\r\n            class=\"flex bg-green-200 p-3 mt-5 rounded-md border text-gray-800\"\r\n          >\r\n            <p class=\"mt-1 text-black-900\">\r\n              You got it right! Value returned: {{ returnValue }} <br/> Quality Score: <strong>{{ twcc }}</strong> (the lower the better)\r\n            </p>\r\n            <div class=\"flex-grow text-right\">\r\n              <button @click=\"clearResult\">\r\n                <img\r\n                  class=\"w-4\"\r\n                  src=\"https://img.icons8.com/small/32/000000/close-window.png\"\r\n                />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            v-if=\"isExerciseCorrect === false\"\r\n            class=\"bg-red-200 p-3 rounded-md border text-gray-800 relative\"\r\n          >\r\n            <p>Sorry, this is not the right solution. Try again!</p>\r\n            <p class=\"mt-1 text-red-900\">\r\n              Value returned: {{ excerciseErrorMessage || returnValue }}\r\n            </p>\r\n            <div class=\"absolute top-0 right-0 mt-1 mr-1\">\r\n              <button @click=\"clearResult\">\r\n                <img\r\n                  class=\"w-4\"\r\n                  src=\"https://img.icons8.com/small/32/000000/close-window.png\"\r\n                />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"returnValue\" class=\"p-3 bg-black text-white mt-2 rounded-md\">\r\n            <p>Your console log:</p>\r\n            <p class=\"mt-1 text-black-900\" v-for=\"log in logs\" :key=\"log\">\r\n              <pre>$> {{ log }} </pre>\r\n            </p>\r\n          </div>\r\n        <pre style=\"visibility: hidden;\" id=\"resultsToValidate\"></pre>\r\n\r\n          <div class=\"mt-2\" style=\"bottom: 5px;\">\r\n            <!--<button\r\n                class=\"bg-yellow-800 hover:bg-yellow-700 p-3 text-white shadow-md focus:outline-none focus:shadow-outline m-1\"\r\n                onClick=\"toggleControlMode();\"\r\n              >\r\n                Give control\r\n              </button>-->\r\n            <button\r\n              class=\"bg-teal-600 hover:bg-teal-500 p-3 text-white shadow-md focus:outline-none focus:shadow-outline m-1\"\r\n              @click=\"validate()\"\r\n            >\r\n              Validate in js\r\n            </button>\r\n\r\n          <button\r\n            class=\"bg-orange-600 hover:bg-orange-500 p-3 text-white shadow-md focus:outline-none focus:shadow-outline m-1\"\r\n            @click=\"validPython()\"\r\n          >\r\n            Validate in python\r\n          </button>\r\n          </div>\r\n          <div id=\"return\"></div>\r\n          <div id=\"result\"></div>\r\n        </div>\r\n        <div class=\"w-1/3 h-full p-2\">\r\n          <div class=\"bg-gray-100 h-full p-2 flex flex-col-reverse\">\r\n            <div class=\"order-4 h-2/6\">\r\n              <img class=\"w-12 inline\" src=\"@/assets/chat.png\" />\r\n              <p class=\"text-2xl inline pl-3 mt-2 text-teal-900\">\r\n                Chat\r\n              </p>\r\n              <p class=\"p-3\">This is a place to chat with your peer</p>\r\n            </div>\r\n            <div\r\n              class=\"flex-grow p-3 order-2 h-3/6 overflow-auto w-full\"\r\n              ref=\"messageContainer\"\r\n            ></div>\r\n            <div class=\"p-3 order-1 h-1/6\">\r\n              <textarea\r\n                :disabled=\"exerciseType != 'PAIR'\"\r\n                v-model=\"myMessage\"\r\n                class=\"border resize-none w-full text-sm p-2\"\r\n                placeholder=\"Write message here and press ENTER\"\r\n                v-on:keyup.enter=\"sendMessage()\"\r\n              >\r\n              </textarea>\r\n              <p class=\"text-xs text-gray-600\">\r\n                Press ENTER to send Message\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"finished\"\r\n      class=\"container mx-auto h-screen flex justify-center items-center\"\r\n    >\r\n      <div class=\"max-w-lg\">\r\n        <h1 class=\"mb-6 text-center font-hairline text-3xl\">\r\n          Session is over\r\n        </h1>\r\n        <div\r\n          class=\"bg-teal-100 border-teal-600 p-8 border-t-8 bg-white mb-6 rounded-md shadow-lg m-5\"\r\n        >\r\n          <h1 class=\"font-bold text-2xl mb-4\">Congratulations!</h1>\r\n          <p class=\"font-medium\" v-html=\"finishMessage\">\r\n          </p>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <p class=\"text-grey-dark text-sm inline\">\r\n            Universidad de Sevilla\r\n          </p>\r\n          <p class=\"text-grey-dark text-sm inline font-hairline mr-1 ml-1\">|</p>\r\n          <p class=\"text-grey-dark text-sm inline\">\r\n            University of California, Berkeley\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"starting\"\r\n      class=\"fixed h-full w-full top-0 z-50 flex justify-center items-center\"\r\n      style=\"backdrop-filter: blur(2px);\"\r\n    >\r\n      <img src=\"@/assets/tc_color.png\" class=\"w-48\" />\r\n    </div>\r\n    <div\r\n      v-if=\"loadingTest\"\r\n      class=\"fixed h-full w-full top-0 z-50 flex justify-center items-center\"\r\n      style=\"backdrop-filter: blur(2px);\"\r\n    >\r\n      <div\r\n        class=\"border-teal-600 p-8 border-t-8 bg-white mb-6 rounded-md shadow-lg m-5 w-2/3\"\r\n      >\r\n        <h1 class=\"font-bold text-2xl mb-4\">A new test begins!</h1>\r\n        <h2 class=\"font-bold text-xl text-gray-600\">\r\n          {{ (maxTime - timePassed) | secondsToString }}\r\n        </h2>\r\n        <p class=\"font-medium\" v-html=\"testDescription\"></p>\r\n        <p class=\"font-normal mt-1\">Your ID: {{ token }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport Message from \"../components/Message\";\r\nimport { codemirror } from \"vue-codemirror\";\r\nimport \"codemirror/mode/javascript/javascript.js\";\r\nimport \"codemirror/lib/codemirror.css\";\r\n\r\nfunction dbg(msg, obj, fields) {\r\n  \r\n  function replacer(key, value) {\r\n    const originalObject = this[key];\r\n    if(originalObject instanceof Map) {\r\n      return {\r\n        dataType: 'Map',\r\n        value: Array.from(originalObject.entries()), \r\n      };\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  if(obj){\r\n    if(fields && Array.isArray(fields)){\r\n      var logObj = {};\r\n      for (const field in obj) {\r\n        if(fields.includes(field))\r\n          logObj[field] = obj[field];\r\n      }       \r\n      console.log(\"DEBUG - \"+msg+\" <\"+JSON.stringify(logObj,replacer).slice(0, -1)+\",...}>\"); \r\n    }else{\r\n      console.log(\"DEBUG - \"+msg+\" <\"+JSON.stringify(obj,replacer)+\">\");\r\n    }\r\n\r\n  } else{\r\n      console.log(\"DEBUG - \"+msg);\r\n  }\r\n\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    codemirror,\r\n  },\r\n  data() {\r\n    return {\r\n      code: ``,\r\n      cmOption: {\r\n        tabSize: 4,\r\n        styleActiveLine: true,\r\n        lineNumbers: true,\r\n        mode: \"text/javascript\",\r\n      },\r\n      firstLoad: true,\r\n      awaiting: null,\r\n      cursorLeftPosition: 0,\r\n      cursorTopPosition: 0,\r\n      myMessage: \"\",\r\n      uid: \"\",\r\n      rid: \"\",\r\n      lastReceived: \"\",\r\n      exerciseDescription: \"Please, wait until the exercise loads...\",\r\n      exerciseLoaded: false,\r\n      exerciseType: \"PAIR\",\r\n      testDescription: \"\",\r\n      finished: false,\r\n      starting: true,\r\n      loadingTest: false,\r\n      peerChange: false,\r\n      timeInterval: null,\r\n      maxTime: 0,\r\n      timePassed: 0,\r\n      isExerciseCorrect: null,\r\n      twcc:null,\r\n      excerciseErrorMessage: \"\",\r\n      returnValue: \"\",\r\n      token: localStorage.getItem(\"code\"),\r\n      println: window.println,\r\n      logs: window.logs,\r\n      inputs: null,\r\n      solutions: [1,4,9,16],\r\n      peerSocketId: null,\r\n      updateCodeEventActive: true\r\n    };\r\n  },\r\n  filters: {\r\n    secondsToString: function(value) {\r\n      const minutes = Math.floor(value / 60);\r\n      const seconds = value - minutes * 60;\r\n\r\n      return `${minutes}:${(\"0\" + seconds).slice(-2)}`;\r\n    },\r\n  },\r\n  sockets: {\r\n    msg(pack) {\r\n      dbg(\"EVENT msg\",pack);\r\n      if (pack.uid != this.uid && pack.rid == this.rid) {\r\n        console.log(\r\n          \"newMsg event triggered with data <\" + this.toJSON(pack) + \"> \"\r\n        );\r\n        this.newMessage(pack.data, false);\r\n      }\r\n    },\r\n    refreshCode(pack) {\r\n      dbg(\"EVENT refreshCode\",pack);\r\n\r\n      // Too expensive Debug log\r\n      //console.log(\"text event triggered with data <\" + this.toJSON(pack) + \"> \");\r\n\r\n      this.$refs.cmEditor.codemirror.replaceRange(\r\n        pack.change.text,\r\n        pack.change.from,\r\n        pack.change.to,\r\n        \"server\"\r\n      );\r\n     \r\n    },\r\n    finish() {\r\n      dbg(\"EVENT finish\");\r\n      console.log(\"EVENT finish trigered!\");\r\n      fetch(\r\n        process.env.VUE_APP_TC_API + \"/finishMessage?code=\" + localStorage.code,\r\n        {\r\n          method: \"GET\",\r\n        }\r\n      )\r\n        .then((response) => {\r\n          return response.json();\r\n        })\r\n        .then((response) => {\r\n          this.finished = true;\r\n          this.finishMessage = response.finishMessage;\r\n          this.$socket.client.emit(\"clientFinished\", {token: localStorage.token, code: localStorage.code});\r\n        });\r\n    },\r\n    loadTest(pack) {\r\n      dbg(\"EVENT loadTest\",pack);\r\n      this.finished = false;\r\n      this.loadingTest = true;\r\n      this.starting = false;\r\n      this.testDescription = pack.data.testDescription;\r\n      this.peerChange = pack.data.peerChange;\r\n      this.$refs.messageContainer.innerHTML = \"\";\r\n      this.code = \"\";\r\n      this.clearResult();\r\n    },\r\n    cursorActivity(data) {\r\n      dbg(\"EVENT cursorActivity\",data);      \r\n      this.cursorLeftPosition = data.left;\r\n      this.cursorTopPosition = data.top;\r\n      this.updateCursorLocation();\r\n    },\r\n    newExercise(pack) {\r\n      dbg(\"EVENT newExercise\",pack);  \r\n\r\n      this.loadingTest = false;\r\n      this.starting = false;\r\n      this.timePassed = 0;\r\n      this.isExerciseCorrect = null;\r\n      this.$refs.timeBar.style.width = \"100%\";\r\n      this.$refs.timeBar.classList.remove(\"bg-red-500\");\r\n      this.$refs.timeBar.classList.add(\"bg-green-500\");\r\n      this.exerciseDescription = pack.data.exerciseDescription;\r\n      this.exerciseType = pack.data.exerciseType;\r\n      this.maxTime = pack.data.maxTime;\r\n      this.inputs = pack.data.inputs;\r\n      this.clearResult();\r\n    },\r\n    reconnect() {\r\n      dbg(\"EVENT reconnect\");\r\n      this.$socket.client.emit(\"clientReconnection\", localStorage.token);\r\n    },\r\n    countDown(pack) {\r\n      //dbg(\"EVENT countDown\",pack);\r\n      this.timePassed = this.maxTime - pack.data;\r\n      let factor = 100 / this.maxTime;\r\n      let width = parseFloat(this.$refs.timeBar.style.width, 10) - factor;\r\n      this.$refs.timeBar.style.width = width + \"%\";\r\n      if (width < 20) {\r\n        this.$refs.timeBar.classList.remove(\"bg-yellow-500\");\r\n        this.$refs.timeBar.classList.add(\"bg-red-500\");\r\n      } else if (width < 40) {\r\n        this.$refs.timeBar.classList.remove(\"bg-green-500\");\r\n        this.$refs.timeBar.classList.add(\"bg-yellow-500\");\r\n      }\r\n    },\r\n    requestBulkCodeEvent(peerSocketId){\r\n      dbg(\"EVENT requestBulkCodeEvent\");\r\n      var currentCode =  this.$refs.cmEditor.codemirror.getValue();\r\n      dbg(\"EVENT requestBulkCodeEvent - code : \\\"\"+currentCode+\"\\\"\");\r\n      if(this.peerSocketId != peerSocketId){\r\n        this.peerSocketId = peerSocketId;\r\n        this.$socket.client.emit(\"bulkCode\", this.pack({\r\n          peerSocketId:peerSocketId, \r\n          code: currentCode\r\n        }));\r\n\r\n      }else{\r\n        dbg(\"EVENT requestBulkCodeEvent - IGNORED because peerSocketId didn't changed\");\r\n      }\r\n    },\r\n    bulkCodeUpdate(code){\r\n      dbg(\"EVENT bulkCodeUpdate\",code);\r\n      var currentCode =  this.$refs.cmEditor.codemirror.getValue();\r\n      console.log\r\n      if(currentCode != code){\r\n        this.updateCodeEventActive = false;\r\n        this.$refs.cmEditor.codemirror.setValue(code);\r\n        this.updateCodeEventActive = true;\r\n\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    dbg(\"created - init\");\r\n    var pathParams = window.location.pathname.split(\"/\");\r\n    this.rid = pathParams[3] + \":\" + pathParams[2];\r\n\r\n    this.uid = new String(\r\n      new Date().getTime() + new Date().getUTCMilliseconds()\r\n    ).substr(8, 13);\r\n\r\n    this.$socket.client.emit(\"clientReconnection\", localStorage.token);\r\n  },\r\n  watch: {\r\n    cursorTopPosition: function(val) {\r\n      console.log(val);\r\n    },\r\n    cursorLeftPosition: function(val) {\r\n      console.log(val);\r\n    },\r\n  },\r\n  methods: {\r\n    sendMessage() {\r\n      dbg(\"method sendMessage - init\",this.myMessage);\r\n      if (this.exerciseType == \"PAIR\") {\r\n        this.newMessage(this.myMessage, true);\r\n        this.$socket.client.emit(\"msg\", this.pack(this.myMessage));\r\n\r\n        this.myMessage = \"\";\r\n      }\r\n    },\r\n    newMessage(msg, mine) {\r\n      dbg(\"method newMessage - init\",msg);\r\n      const MessageClass = Vue.extend(Message);\r\n      let gender = localStorage.getItem(\"pairedTo\") === 'Female';\r\n      gender = this.peerChange ? !gender : gender;\r\n      gender = JSON.parse(localStorage.getItem(\"user\")).blind ? null : gender;\r\n      const msgInstance = new MessageClass({\r\n        propsData: {\r\n          mine: mine,\r\n          message: msg,\r\n          girl: gender,\r\n        },\r\n      });\r\n\r\n      msgInstance.$mount();\r\n      this.$refs.messageContainer.appendChild(msgInstance.$el);\r\n\r\n      var container = this.$refs.messageContainer;\r\n      container.scrollTop = container.scrollHeight;\r\n    },\r\n    validPython() {\r\n      document.getElementById(\"brythonButton\").click();\r\n      //console.log(this.solutions+\"          \"+document.getElementById(\"resultsToValidate\").innerHTML);\r\n\r\n      var solutionsCompiled = document.getElementById(\"resultsToValidate\").innerHTML;\r\n\r\n      /*\r\n      if(document.getElementById(\"resultsToValidate\").innerHTML == this.solutions+\"\") {\r\n        document.getElementById(\"resultsToValidate\").innerHTML = \"Your answer is correct!\"\r\n        document.getElementById(\"resultsToValidate\").style = \"visibility: visible; background-color: hsla(89, 43%, 51%, 0.3); border-radius: 7px; color: green; padding: 5px; margin-top: 7px\";\r\n      } else {\r\n        document.getElementById(\"resultsToValidate\").innerHTML = \"Your answer is not correct\"\r\n        document.getElementById(\"resultsToValidate\").style = \"visibility: visible; background-color: hsla(0, 100%, 51%, 0.3); border-radius: 7px; color: red; padding: 5px; margin-top: 7px\";\r\n      }\r\n      */\r\n      try {\r\n        var toValidate = [];\r\n        //console.log(solutionsCompiled.split(\",\"));\r\n        for(var s = 0; s < solutionsCompiled.split(\",\").length; s++) {\r\n          var t = solutionsCompiled.split(\",\")[s];\r\n          //console.log(t);\r\n\r\n          var sol = Number(t); \r\n          if (isNaN(sol)) {\r\n            sol = t.toLowerCase();\r\n            var sol2 = (sol == 'true' || sol == 'false');\r\n            if (sol2 == false) {\r\n              sol = t;\r\n            } else {\r\n              sol = t.toLowerCase() == 'true';\r\n            }\r\n          }\r\n          toValidate.push(sol);\r\n        }\r\n        //console.log(toValidate);\r\n        this.valid(toValidate);\r\n      } catch (e) {\r\n        this.isExerciseCorrect = false;\r\n        this.excerciseErrorMessage = e;\r\n        console.log(\"ERROR HERE: \", e);\r\n      }\r\n      /*Example:\r\n      outputs = []\r\n      for i in inputs:\r\n        outputs.append(i*i)\r\n      */\r\n    },\r\n    validate() {\r\n      dbg(\"method validate - init\",this.code);\r\n      this.clearResult();\r\n      try {\r\n        var solutions = [];\r\n\r\n        this.inputs.forEach(input => {\r\n          solutions.push(eval(\"var inputs=\"+JSON.stringify(input)+\";\" + this.code + \"; outputs;\"));\r\n        });\r\n\r\n        console.log(\"Inputs: \"+JSON.stringify(this.inputs));\r\n        console.log(\"Outputs: \"+JSON.stringify(solutions));\r\n        \r\n        console.log(solutions);\r\n\r\n        this.valid(solutions);\r\n\r\n        /*if (ret) {\r\n          this.valid(ret);\r\n        } else {\r\n          this.isExerciseCorrect = false;\r\n          this.excerciseErrorMessage = \"You should return the solution.\";\r\n        }*/\r\n      } catch (e) {\r\n        this.isExerciseCorrect = false;\r\n        this.excerciseErrorMessage = e;\r\n        console.log(\"ERROR HERE: \", e);\r\n      }\r\n    },\r\n    clearResult() {\r\n      dbg(\"method clearResult - init\");\r\n      this.isExerciseCorrect = null;\r\n      this.excerciseErrorMessage  = \"\";\r\n      this.returnValue = \"\";\r\n      this.errorMessage = \"\";\r\n      window.logs = [];\r\n      this.logs = window.logs;\r\n    },\r\n    valid(v) {\r\n      dbg(\"method valid - init\",v);\r\n      if (this.exerciseType != 'DEMO') {\r\n        fetch(process.env.VUE_APP_TC_API + \"/verify\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            solutions: v,\r\n            user: localStorage.token,\r\n            source: \"function main(inputs) { \"+\r\n                        this.$refs.cmEditor.codemirror.getValue()+\r\n                        \"return outputs;\"+\r\n                    \"}\"\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }).then((response) => {\r\n          if (response.status == 200) {\r\n            response.json().then((data) => {\r\n              this.isExerciseCorrect = data.result;\r\n              this.twcc = data.twcc;\r\n              this.returnValue = v;\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.isExerciseCorrect = JSON.parse(localStorage.demoExercise).solution === v;\r\n        this.returnValue = v;\r\n      }\r\n    },\r\n    onCmBlur(cm) {\r\n      console.log(\"cm blur!\", cm);\r\n    },\r\n    onCmFocus(cm) {\r\n      console.log(\"cm focus!\", cm);\r\n    },\r\n    onCmReady(cm) {\r\n      console.log(\"cm ready!\", cm);\r\n    },\r\n    exitDemo() {\r\n      dbg(\"method exitDemo - init\");\r\n      clearInterval(this.timeInterval);\r\n      this.$router.go(-1);\r\n    },\r\n    loadDemoExercise() {\r\n      dbg(\"method loadDemoExercise - init\");\r\n      const demoExercise = JSON.parse(localStorage.demoExercise);\r\n      this.starting = false;\r\n      this.maxTime = demoExercise.time;\r\n      this.exerciseDescription = demoExercise.description;\r\n      this.exerciseType = \"DEMO\"\r\n      this.timeInterval = setInterval(() => {\r\n        this.timePassed++;\r\n        console.log(\"Counting down!\");\r\n        let factor = 100 / this.maxTime;\r\n        let width = parseFloat(this.$refs.timeBar.style.width, 10) - factor;\r\n        this.$refs.timeBar.style.width = width + \"%\";\r\n        if (width < 20) {\r\n          this.$refs.timeBar.classList.remove(\"bg-yellow-500\");\r\n          this.$refs.timeBar.classList.add(\"bg-red-500\");\r\n        } else if (width < 40) {\r\n          this.$refs.timeBar.classList.remove(\"bg-green-500\");\r\n          this.$refs.timeBar.classList.add(\"bg-yellow-500\");\r\n        }\r\n        if (this.timePassed > this.maxTime) {\r\n          clearInterval(this.timeInterval);\r\n        }\r\n      },1000);\r\n    },\r\n    pack(data) {\r\n      dbg(\"method pack - init\",data);\r\n      return {\r\n        rid: this.rid,\r\n        uid: this.uid,\r\n        token: localStorage.token,\r\n        data: data,\r\n      };\r\n    },\r\n    toJSON(obj) {\r\n      return JSON.stringify(obj, null, 2);\r\n    },\r\n    evaluateCode(code) {\r\n      eval(code);\r\n    },\r\n    handleResize() {\r\n      const elemento = document.getElementsByClassName(\"CodeMirror-scroll\")[0];\r\n      const newLeft =\r\n        document.getElementById(\"codemirror\").getBoundingClientRect().left +\r\n        this.cursorLeftPosition +\r\n        30 -\r\n        elemento.scrollLeft;\r\n      document.getElementById(\"pairCursor\").style.left = newLeft + \"px\";\r\n    },\r\n    handleScroll() {\r\n      const cmWidth = document.getElementById(\"codemirror\").offsetWidth;\r\n      const cmHeight = document.getElementById(\"codemirror\").offsetHeight + 19;\r\n\r\n      const elemento = document.getElementsByClassName(\"CodeMirror-scroll\")[0];\r\n      const newTop =\r\n        document.getElementById(\"codemirror\").getBoundingClientRect().top +\r\n        this.cursorTopPosition +\r\n        5 -\r\n        elemento.scrollTop;\r\n\r\n      const newLeft =\r\n        document.getElementById(\"codemirror\").getBoundingClientRect().left +\r\n        this.cursorLeftPosition +\r\n        30 -\r\n        elemento.scrollLeft;\r\n      if (cmWidth > newLeft) {\r\n        this.$refs.pairCursor.style.left = newLeft + \"px\";\r\n      }\r\n      if (cmHeight > newTop) {\r\n        this.$refs.pairCursor.style.top = newTop + \"px\";\r\n      }\r\n\r\n      console.log(elemento.scrollTop);\r\n    },\r\n    inputRead(i, c) {\r\n      if(this.updateCodeEventActive)\r\n        this.$socket.client.emit(\"updateCode\", c);\r\n    },\r\n    cursorActivity(doc) {\r\n      dbg(\"method cursorActivity - init\");\r\n      this.$socket.client.emit(\r\n        \"cursorActivity\",\r\n        doc.cursorCoords(false, \"relative\")\r\n      );\r\n    },\r\n    onCmCodeChange(e, c) {\r\n      const changeObj = {\r\n        author: this.$socket.client.id,\r\n        change: c,\r\n      };\r\n      if (c.origin != \"server\") {\r\n        if(this.updateCodeEventActive)\r\n          this.$socket.client.emit(\"updateCode\", this.pack(changeObj));\r\n      }\r\n      this.firstLoad = false;\r\n    },\r\n    updateCursorLocation() {\r\n      const cmWidth = document.getElementById(\"codemirror\").offsetWidth;\r\n      const cmHeight = document.getElementById(\"codemirror\").offsetHeight;\r\n      console.log(cmHeight);\r\n\r\n      const elemento = document.getElementsByClassName(\"CodeMirror-scroll\")[0];\r\n\r\n      const top =\r\n        document.getElementById(\"codemirror\").getBoundingClientRect().top +\r\n        this.cursorTopPosition +\r\n        5 -\r\n        elemento.scrollTop;\r\n      const left =\r\n        document.getElementById(\"codemirror\").getBoundingClientRect().left +\r\n        this.cursorLeftPosition +\r\n        30 -\r\n        elemento.scrollLeft;\r\n      console.log(top);\r\n      console.log(cmHeight);\r\n      if (cmWidth > left) {\r\n        this.$refs.pairCursor.style.left = left + \"px\";\r\n      }\r\n      if (cmHeight > top) {\r\n        this.$refs.pairCursor.style.top = top + \"px\";\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    cmEditor() {\r\n      return this.$refs.cmEditor.codemirror;\r\n    },\r\n  },\r\n  mounted() {\r\n    dbg(\"mounted - init\");\r\n\r\n    this.$refs.cmEditor.codemirror.on(\"change\", this.onCmCodeChange);\r\n    this.$refs.cmEditor.codemirror.on(\"cursorActivity\", this.cursorActivity);\r\n    const elemento = document.getElementsByClassName(\"CodeMirror-scroll\")[0];\r\n    elemento.addEventListener(\"scroll\", this.handleScroll);\r\n\r\n    // Cursor functionaliy disabled\r\n    /*let toggle = true;\r\n    setInterval(function() {\r\n      if (toggle) {\r\n        document.getElementById(\"pairCursor\").classList.add(\"invisible\");\r\n      } else {\r\n        document.getElementById(\"pairCursor\").classList.remove(\"invisible\");\r\n      }\r\n      toggle = !toggle;\r\n    }, 750);*/\r\n\r\n    // Disable ctrl+s shortkey in Windows or Linux\r\n    document.body.addEventListener('keydown', event => {\r\n     if (event.ctrlKey || event.metaKey) {\r\n      switch (String.fromCharCode(event.which).toLowerCase()) {\r\n        case \"s\":\r\n          event.preventDefault();\r\n          break;\r\n      }\r\n     }\r\n    });\r\n\r\n    this.$refs.timeBar.style.width = `${((this.maxTime - this.timePassed) /\r\n      this.maxTime) *\r\n      100}%`;\r\n\r\n    if (localStorage.demoExercise) {\r\n      this.loadDemoExercise();\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    dbg(\"beforeDestroy - init\");\r\n    window.removeEventListener(\"resize\", this.handleScroll);\r\n    const elemento = document.getElementsByClassName(\"CodeMirror-scroll\")[0];\r\n    if (elemento) {\r\n      elemento.removeEventListener(\"scroll\", this.handleScroll);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.CodeMirror {\r\n  border: 1px solid #eee;\r\n  height: 50vh !important;\r\n}\r\n#pairCursor {\r\n  width: 2px;\r\n  height: 19px;\r\n  z-index: 9999;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages"}]}