{"remainingRequest":"F:\\TWINCODE\\twincode-front\\node_modules\\thread-loader\\dist\\cjs.js!F:\\TWINCODE\\twincode-front\\node_modules\\babel-loader\\lib\\index.js!F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\TWINCODE\\twincode-front\\src\\pages\\Lobby.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\TWINCODE\\twincode-front\\src\\pages\\Lobby.vue","mtime":1625729624000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW52YWxpZFRva2VuOiBmYWxzZSwKICAgICAgd2FpdGluZ0ZvclBlZXI6IGZhbHNlLAogICAgICB0b2tlbklkOiAiIgogICAgfTsKICB9LAogIHNvY2tldHM6IHsKICAgIHNlc3Npb25TdGFydDogZnVuY3Rpb24gc2Vzc2lvblN0YXJ0KHZhbCkgewogICAgICBjb25zb2xlLmxvZygiU2Vzc2lvbiBzdGFydGVkISIpOwogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvcm9vbXMvY29udHJvbGxlZC8iICsgdmFsLnJvb207CiAgICAgIGNvbnNvbGUubG9nKCJDb252ZXJ0aW5nIHRvIHN0cmluZzogIiArIHZhbC51c2VyKTsKICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodmFsLnVzZXIpKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeSh2YWwudXNlcikpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicGFpcmVkVG8iLCB2YWwucGFpcmVkVG8pOwogICAgfSwKICAgIGNsaWVudEpvaW5BZ2FpbjogZnVuY3Rpb24gY2xpZW50Sm9pbkFnYWluKCkgewogICAgICB0aGlzLnBlcmZvcm1Db25uZWN0aW9uKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLiRzb2NrZXQuY2xpZW50LmlkKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImRlbW9FeGVyY2lzZSIpOwogICAgICBmZXRjaChwcm9jZXNzLmVudi5WVUVfQVBQX1RDX0FQSSArICIvcmVnaXN0ZXJVc2VyIiwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHRva2VuSWQ6IHRoaXMudG9rZW5JZCwKICAgICAgICAgIGNvZGU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjb2RlIikKICAgICAgICB9KSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpcy5wZXJmb3JtQ29ubmVjdGlvbigpOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDQwNCkgewogICAgICAgICAgX3RoaXMuaW52YWxpZFRva2VuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHBlcmZvcm1Db25uZWN0aW9uOiBmdW5jdGlvbiBwZXJmb3JtQ29ubmVjdGlvbigpIHsKICAgICAgY29uc29sZS5sb2coIlBlcmZvcm1pbmcgY29ubmVjdGlvbi4uLiIpOwogICAgICB0aGlzLiRzb2NrZXQuY2xpZW50LmVtaXQoImNsaWVudFJlYWR5IiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImNvZGUiKSk7CiAgICAgIHRoaXMuJHNvY2tldC5jbGllbnQuZW1pdCgiY2xpZW50Q29ubmVjdGVkIiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImNvZGUiKSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjb2RlIikpOwogICAgICB0aGlzLndhaXRpbmdGb3JQZWVyID0gdHJ1ZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Lobby.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,GADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,uBAAA,GAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,2BAAA,GAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,GAAA,CAAA,QAAA;AACA,KARA;AASA,IAAA,eATA,6BASA;AACA,WAAA,iBAAA;AACA;AAXA,GARA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA,CAAA,MAAA,CAAA,EAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,cAAA;AACA,MAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,cAAA,GAAA,eAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,OAAA,EAAA,KAAA,OADA;AAEA,UAAA,IAAA,EAAA,YAAA,CAAA,OAAA,CAAA,MAAA;AAFA,SAAA,CAFA;AAMA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AANA,OAAA,CAAA,CASA,IATA,CASA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,iBAAA;AACA,SAFA,MAEA,IAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA;AACA,OAfA;AAgBA,KApBA;AAqBA,IAAA,iBArBA,+BAqBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,IAAA,CAAA,aAAA,EAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA;AA3BA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"bg-red-100 h-screen font-sans\">\n    <div class=\"container mx-auto h-full flex justify-center items-center\">\n      <div class=\"w-1/3\">\n        <h1 class=\"mb-6 text-center font-hairline text-3xl\">\n          Lobby\n        </h1>\n        <div\n          v-if=\"!waitingForPeer\"\n          class=\"border-red-600 p-8 border-t-8 bg-white mb-6 rounded-md shadow-md\"\n        >\n          <div\n            v-if=\"invalidToken\"\n            class=\"bg-red-200 border-red-300 border mb-6 rounded\"\n          >\n            <p class=\"text-red-800 text-sm p-2\">\n              Invalid token. Check for typos and ask your session coordinatos if\n              you think it is an error.\n            </p>\n          </div>\n          <form @submit.prevent=\"onSubmit\">\n            <div class=\"mb-6\">\n              <label class=\"font-bold text-grey-800 block mb-2\"\n                >Introduce the token provided by the session coordinator</label\n              >\n              <input\n                type=\"text\"\n                v-model=\"tokenId\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"Type here the token\"\n              />\n            </div>\n\n            <div class=\"flex items-center justify-between\">\n              <button\n                type=\"submit\"\n                class=\"bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-4 rounded\"\n              >\n                Continue\n              </button>\n            </div>\n          </form>\n        </div>\n        <div v-if=\"waitingForPeer\">\n          <h1 class=\"mb-6 text-center text-3xl\">\n            Waiting for peer\n          </h1>\n        </div>\n\n        <div v-if=\"waitingForPeer\" class=\"mb-6\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            style=\"\n              margin: auto;\n              display: block;\n              background-position: initial initial;\n              background-repeat: initial initial;\n            \"\n            width=\"200px\"\n            height=\"200px\"\n            viewBox=\"0 0 100 100\"\n            preserveAspectRatio=\"xMidYMid\"\n          >\n            <circle\n              cx=\"50\"\n              cy=\"50\"\n              r=\"0\"\n              fill=\"none\"\n              stroke=\"#e53e3e\"\n              stroke-width=\"2\"\n            >\n              <animate\n                attributeName=\"r\"\n                repeatCount=\"indefinite\"\n                dur=\"1.6393442622950818s\"\n                values=\"0;40\"\n                keyTimes=\"0;1\"\n                keySplines=\"0 0.2 0.8 1\"\n                calcMode=\"spline\"\n                begin=\"-0.8196721311475409s\"\n              ></animate>\n              <animate\n                attributeName=\"opacity\"\n                repeatCount=\"indefinite\"\n                dur=\"1.6393442622950818s\"\n                values=\"1;0\"\n                keyTimes=\"0;1\"\n                keySplines=\"0.2 0 0.8 1\"\n                calcMode=\"spline\"\n                begin=\"-0.8196721311475409s\"\n              ></animate>\n            </circle>\n            <circle\n              cx=\"50\"\n              cy=\"50\"\n              r=\"0\"\n              fill=\"none\"\n              stroke=\"#f5c61b\"\n              stroke-width=\"2\"\n            >\n              <animate\n                attributeName=\"r\"\n                repeatCount=\"indefinite\"\n                dur=\"1.6393442622950818s\"\n                values=\"0;40\"\n                keyTimes=\"0;1\"\n                keySplines=\"0 0.2 0.8 1\"\n                calcMode=\"spline\"\n              ></animate>\n              <animate\n                attributeName=\"opacity\"\n                repeatCount=\"indefinite\"\n                dur=\"1.6393442622950818s\"\n                values=\"1;0\"\n                keyTimes=\"0;1\"\n                keySplines=\"0.2 0 0.8 1\"\n                calcMode=\"spline\"\n              ></animate>\n            </circle>\n          </svg>\n        </div>\n\n        <div class=\"text-center\">\n          <p class=\"text-grey-dark text-sm\">Universidad de Sevilla</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      invalidToken: false,\n      waitingForPeer: false,\n      tokenId: \"\",\n    };\n  },\n  sockets: {\n    sessionStart(val) {\n      console.log(\"Session started!\");\n      window.location.href = \"/rooms/controlled/\" + val.room;\n      console.log(\"Converting to string: \" + val.user);\n      console.log(JSON.stringify(val.user));\n      localStorage.setItem(\"user\", JSON.stringify(val.user));\n      localStorage.setItem(\"pairedTo\", val.pairedTo);\n    },\n    clientJoinAgain() {\n      this.performConnection();\n    },\n  },\n  methods: {\n    onSubmit() {\n      console.log(this.$socket.client.id);\n      localStorage.removeItem(\"demoExercise\");\n      fetch(process.env.VUE_APP_TC_API + \"/registerUser\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          tokenId: this.tokenId,\n          code: localStorage.getItem(\"code\"),\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((response) => {\n        if (response.status == 200) {\n          this.performConnection();\n        } else if (response.status == 404) {\n          this.invalidToken = true;\n        }\n      });\n    },\n    performConnection() {\n      console.log(\"Performing connection...\");\n      this.$socket.client.emit(\"clientReady\", localStorage.getItem(\"code\"));\n      this.$socket.client.emit(\"clientConnected\", localStorage.getItem(\"code\"));\n      localStorage.setItem(\"token\", localStorage.getItem(\"code\"));\n      this.waitingForPeer = true;\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/pages"}]}