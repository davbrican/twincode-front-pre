{"remainingRequest":"F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\TWINCODE\\twincode-front\\src\\pages\\Signup.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"F:\\TWINCODE\\twincode-front\\src\\pages\\Signup.vue","mtime":1625729624000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZmFkZS1lbnRlci1hY3RpdmUsIC5mYWRlLWxlYXZlLWFjdGl2ZSB7CiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNXM7Cn0KLmZhZGUtZW50ZXIsIC5mYWRlLWxlYXZlLXRvIC8qIC5mYWRlLWxlYXZlLWFjdGl2ZSBiZWxvdyB2ZXJzaW9uIDIuMS44ICovIHsKICBvcGFjaXR5OiAwOwp9Cg=="},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkeA;AACA;AACA;AACA;AACA;AACA","file":"Signup.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"bg-orange-200 font-sans\">\n    <div class=\"container mx-auto h-full flex justify-center\">\n        <div v-if=\"!submitionOk\" class=\"w-full lg:w-2/3 p-3\">\n        <img class=\"w-full md:w-2/3 p-3 mb-3\" src=\"@/assets/tc_color.png\"/>\n        <div class=\"mb-3 ml-3\">\n        <h1 class=\"text-4xl inline ml-0\" style=\"font-family: 'Comic Sans MS', 'Comic Sans', 'Comic Neue'; font-weight: bold; color: #F50016;\">\n        &lt;</h1>\n        <h1 class=\"ml-0 mr-0 text-4xl inline font-thin\">\n          Signup\n        </h1>\n        <h1 class=\"text-4xl inline\" style=\"font-family: 'Comic Sans MS', 'Comic Sans', 'Comic Neue'; font-weight: bold; color: #F50016;\">>\n        </h1>\n      </div>\n        <div\n          class=\"border-orange-400 p-8 border-t-8 bg-white mb-3 rounded-md shadow-lg\"\n        >\n          <form @submit.prevent=\"checkForm\">\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-grey-800 block mb-2\"\n                >First Name <span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"text\"\n                v-model=\"details.firstName\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"Your name\"\n              />\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-grey-800 block mb-2\"\n                >Surname <span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"text\"\n                v-model=\"details.surname\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"Your surname/s\"\n              />\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Email <span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"email\"\n                pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n                v-model=\"details.mail\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"Your personal email\"\n              />\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Academic email<span class=\"text-red-600\"></span></label\n              >\n              <input\n                type=\"email\"\n                pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\"\n                v-model=\"details.academicMail\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"In case is different from your personal email\"\n              />\n            </div>\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Session <span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"text\"\n                v-model=\"details.subject\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"This code should have been provided to you by the organizers.\"\n              />\n              <p v-if=\"sessionStatus.canJoin != null && !sessionStatus.canJoin\" class=\"ml-3 mt-2 text-sm text-red-700\">{{sessionStatus.message}}</p>\n              <p v-if=\"sessionStatus.canJoin != null && sessionStatus.canJoin\" class=\"ml-3 mt-2 text-sm text-green-700\">Session found!</p>\n\n            </div>\n\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Number of subjects this year\n                <span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"number\"\n                v-model=\"details.numberOfSubjects\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"Number of subjects in the current course.\"\n              />\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Year of first enrollement <span class=\"text-red-600\"\n                  >*</span\n                ></label\n              >\n              <input\n                type=\"number\"\n                v-model=\"details.beganStudying\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"The year on which you began studying your current degree\"\n              />\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Programming languages you know <span class=\"text-red-600\"\n                  >*</span\n                ></label\n              >\n              <input\n                type=\"text\"\n                v-model=\"details.knownLanguages\"\n                pattern=\"([a-zA-Z\\+#]+)(,\\s*[a-zA-Z\\+#]+)*\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"Only a-z and commas are allowed. No whitespaces.\"\n              />\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Experience with JavaScript<span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"radio\"\n                id=\"jsexp1\"\n                value=\"1\"\n                v-model=\"details.jsexp\"\n                class=\"mr-1\"\n              />\n              <label for=\"jsexp1\">Very Low</label>\n              <br />\n              <input\n                type=\"radio\"\n                id=\"jsexp2\"\n                value=\"2\"\n                v-model=\"details.jsexp\"\n                class=\"mr-1\"\n              />\n              <label for=\"jsexp2\">Low</label>\n              <br />\n              <input\n                type=\"radio\"\n                id=\"jsexp3\"\n                value=\"3\"\n                v-model=\"details.jsexp\"\n                class=\"mr-1\"\n              />\n              <label for=\"jsexp3\">Medium</label>\n              <br />\n              <input\n                type=\"radio\"\n                id=\"jsexp4\"\n                value=\"4\"\n                v-model=\"details.jsexp\"\n                class=\"mr-1\"\n              />\n              <label for=\"jsexp4\">High</label>\n              <br />\n              <input\n                type=\"radio\"\n                id=\"jsexp5\"\n                value=\"5\"\n                v-model=\"details.jsexp\"\n                class=\"mr-1\"\n              />\n              <label for=\"jsexp5\">Very High</label>\n              <br />\n            </div>\n\n\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Gender <span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"radio\"\n                id=\"maleGender\"\n                value=\"Male\"\n                v-model=\"details.gender\"\n                class=\"mr-1\"\n              />\n              <label for=\"maleGender\">Male</label>\n              <br />\n              <input\n                type=\"radio\"\n                id=\"femaleGender\"\n                value=\"Female\"\n                class=\"mr-1\"\n                v-model=\"details.gender\"\n              />\n              <label for=\"femaleGender\">Female</label>\n              <br />\n              <input\n                type=\"radio\"\n                id=\"otherGender\"\n                value=\"true\"\n                class=\"mr-1\"\n                v-model=\"otherGenderSelected\"\n                @click=\"selectOtherGender\"\n              />\n              <label for=\"otherGender\">Other</label>\n              <transition name=\"fade\">\n              <input\n                v-if=\"details.gender !== 'Male' && details.gender !== 'Female' && details.gender != null\"\n                type=\"text\"\n                id=\"otherGenderText\"\n                v-model=\"details.gender\"\n                class=\"block mt-2 appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"Enter the gender that better describes yourself.\"\n              />\n              </transition>\n            </div>\n\n\n            <div class=\"mb-4\">\n              <label class=\"font-bold text-gray-800 block mb-2\"\n                >Date of birth <span class=\"text-red-600\">*</span></label\n              >\n              <input\n                type=\"date\"\n                v-model=\"details.birthDate\"\n                class=\"block appearance-none w-full bg-white border border-gray-200 hover:border-grey px-2 py-2 rounded shadow\"\n                placeholder=\"dd/mm/yyyy\"\n              />\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"text-gray-700\">\n                <input type=\"checkbox\" required /> I accept to participate in\n                the study knowing that all the personal data I provide will\n                be kept confidential and will not be publicly available but\n                some aggregated and annonimized data could be analyzed for\n                research purposes.</label\n              >\n            </div>\n\n            <div class=\"flex items-center justify-between mt-10\">\n              <button\n                type=\"submit\"\n                class=\"bg-orange-500 hover:bg-orange-300 text-white font-bold py-2 px-4 rounded\"\n              >\n                Sign up\n              </button>\n            </div>\n            <div\n              v-if=\"errors.length\"\n                class=\"bg-red-200 border-red-300 border mt-6 mb-3 rounded\"\n              >\n              <p class=\"text-red-800 text-sm p-2\">\n                <b>Please correct the following error(s):</b>\n                <ul class=\"mb-3\">\n                  <li class=\"text-red-800 text-sm pl-2 font-light\" :key=\"error\" v-for=\"error in errors\"> - {{ error }}</li>\n                </ul>\n              </p>\n              </div>\n          </form>\n        </div>\n        <div class=\"mb-6 ml-3\">\n        <h1 class=\"text-4xl inline ml-0\" style=\"font-family: 'Comic Sans MS', 'Comic Sans', 'Comic Neue'; font-weight: bold; color: #F50016;\">\n          &lt;&#47;</h1>\n          <h1 class=\"ml-0 mr-0 text-4xl inline font-thin\">\n            Signup\n          </h1>\n          <h1 class=\"text-4xl inline\" style=\"font-family: 'Comic Sans MS', 'Comic Sans', 'Comic Neue'; font-weight: bold; color: #F50016;\">>\n          </h1>\n        </div>\n        <div class=\"text-center pb-5\">\n          <p class=\"text-grey-dark text-sm inline\">\n            Universidad de Sevilla\n          </p>\n          <p class=\"text-grey-dark text-sm inline font-hairline mr-1 ml-1\">|</p>\n          <p class=\"text-grey-dark text-sm inline\">\n            University of California, Berkeley\n          </p>\n        </div>\n      </div>\n      <div v-if=\"submitionOk\" class=\"w-full h-screen lg:w-2/3 p-3\">\n        <img class=\"w-full md:w-2/3 p-3 mb-3\" src=\"@/assets/tc_color.png\"/>\n        <div>\n          <div\n            class=\"bg-teal-100 border-teal-600 p-8 border-t-8 mb-6 rounded-md shadow-lg m-5\"\n          >\n          <h1 class=\"font-bold text-2xl mb-4\">Thanks for participating!</h1>\n          <p class=\"font-medium\" v-html=\"registrationText\"> </p>\n          </div>\n          <div class=\"text-center\">\n            <p class=\"text-grey-dark text-sm inline\">\n              Universidad de Sevilla\n            </p>\n            <p class=\"text-grey-dark text-sm inline font-hairline mr-1 ml-1\">|</p>\n            <p class=\"text-grey-dark text-sm inline\">\n              University of California, Berkeley\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    data() {\n    return {\n      errors: [],\n      invalidCredentials: false,\n      details: {\n        firstName: \"\",\n        surname: \"\",\n        mail: \"\",\n        academicMail: \"\",\n        gender: null,\n        jsexp: null,\n        birthDate: null,\n        subject: \"\",\n        beganStudying: null,\n        numberOfSubjects: null,\n        knownLanguages: \"\",\n      },\n      submitionOk: false,\n      registrationText: \"\",\n      otherGenderSelected: false,\n      sessionStatus: {\n        canJoin: null,\n        message: \"\"\n      }\n    };\n  },\n  methods: {\n    checkForm(e) {\n      if (\n        this.details.firstName &&\n        this.details.surname &&\n        this.details.mail &&\n        this.details.gender &&\n        this.details.jsexp &&\n        this.details.birthDate &&\n        this.details.subject &&\n        this.details.beganStudying &&\n        this.details.numberOfSubjects &&\n        this.details.knownLanguages &&\n        this.dateValid()\n      ) {\n        this.errors = [];\n        return this.onSubmit();\n      }\n\n      this.errors = [];\n\n      if (!this.details.firstName) {\n        this.errors.push(\"First name required.\");\n      }\n      if (!this.details.surname) {\n        this.errors.push(\"Surname required.\");\n      }\n      if (!this.details.mail) {\n        this.errors.push(\"Mail required.\");\n      }\n      if (!this.details.gender) {\n        this.errors.push(\"Gender required.\");\n      }\n      if (!this.details.jsexp) {\n        this.errors.push(\"Experience with JavaScript required.\");\n      }\n      if (!this.details.birthDate) {\n        this.errors.push(\"Date of birth required.\");\n      }\n      if (!this.details.subject) {\n        this.errors.push(\"Subject required.\");\n      }\n      if (!this.details.beganStudying) {\n        this.errors.push(\"Year of first enrollement required.\");\n      }\n      if (!this.details.numberOfSubjects) {\n        this.errors.push(\"Number of subjects this year required.\");\n      }\n      if (!this.details.knownLanguages) {\n        this.errors.push(\"Known languages is required.\");\n      }\n\n      e.preventDefault();\n    },\n    onSubmit() {\n      fetch(process.env.VUE_APP_TC_API + \"/signup\", {\n        method: \"POST\",\n        body: JSON.stringify(this.details),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((response) => {\n        if (response.status === 200) {\n          this.submitionOk = true;\n          return response.json();\n        } else if (response.status === 400) {\n          this.submitionOk = false;\n          return response.json();\n        } else {\n          this.errors.push(\"There was an unexpected error.\");\n        }\n      }).then((data) => {\n        if (this.submitionOk) {\n          this.registrationText = data.registrationText;\n        } else {\n          if (data.code === \"DUPLICATE\") {\n            this.errors.push(\"You already registered in the session. Please check you inbox or spam folder.\");\n          } else {\n            this.errors.push(\"Error in the request. Please check the form.\");\n          }\n          \n        }\n      });\n    },\n    dateValid() {\n      // Because <input type=\"date\" /> behaves differently in safari\n      // This check is necesary\n      const date = new Date(this.details.birthDate);\n      if (date == \"Invalid Date\") {\n        // Safari\n        let dateArray = this.details.birthDate.split(\"/\");\n        this.details.birthDate = new Date(\n          `${dateArray[2]}-${dateArray[1]}-${dateArray[0]}`\n        );\n        console.log(this.details.birthDate);\n      } else {\n        this.details.birthDate = date;\n      }\n\n      if (this.details.birthDate == \"Invalid Date\") {\n        this.errors.push(\"Please enter a valid date in your birth date.\");\n      }\n\n      return this.details.birthDate != \"Invalid Date\";\n    },\n    selectOtherGender() {\n      this.details.gender = \"\";\n      this.otherGenderSelected = true;\n    }\n  },\n  watch: {\n    'details.gender': function(newVal) {\n      if (newVal == \"Male\" || newVal == \"Female\") {\n        this.otherGenderSelected = false;\n      }\n    },\n    'details.subject': function(newVal) {\n      if (newVal != \"\") {\n        fetch(process.env.VUE_APP_TC_API + \"/status/\" + newVal, {\n            method: \"GET\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n          },\n        }).then((response) => {\n          return response.json()\n        }).then((data) => {\n          if (data.exists && data.active && !data.running) {\n            this.sessionStatus.canJoin = true;\n          } else {\n            this.sessionStatus.canJoin = false;\n            if (!data.exists) {\n              this.sessionStatus.message = \"This session doesn't exist.\"\n            } else if (!data.active) {\n              this.sessionStatus.message = \"This session is not active yet.\"\n            } else if (data.running) {\n              this.sessionStatus.message = \"This session is running. You cannot join it.\"\n            }\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style>\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n"]}]}