{"remainingRequest":"F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\TWINCODE\\twincode-front\\src\\pages\\Reports.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\TWINCODE\\twincode-front\\src\\pages\\Reports.vue","mtime":1630764765308},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\TWINCODE\\twincode-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkZXIiOwppbXBvcnQgVnVlQXBleENoYXJ0cyBmcm9tICJ2dWUtYXBleGNoYXJ0cyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgVnVlUGFwYVBhcnNlIGZyb20gJ3Z1ZS1wYXBhLXBhcnNlJwpWdWUudXNlKFZ1ZVBhcGFQYXJzZSkKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgICBhcGV4Y2hhcnQ6IFZ1ZUFwZXhDaGFydHMsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVzdHM6IFtdLAogICAgICByZXBvcnREYXRhOiAiUmVwb3J0cyIsCiAgICAgIHNlcmllczogW10sCiAgICAgIHBhcnRpY2lwYW50czogW10sCiAgICAgIGZpbmlzaExvYWRpbmc6IGZhbHNlLAogICAgICBjaGFydE9wdGlvbnM6IHsKICAgICAgICBjaGFydDogewogICAgICAgICAgdHlwZTogImJhciIsCiAgICAgICAgICBoZWlnaHQ6IDM1MCwKICAgICAgICAgIHN0YWNrZWQ6IHRydWUsCiAgICAgICAgICB0b29sYmFyOiB7CiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICB9LAogICAgICAgICAgem9vbTogewogICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHJlc3BvbnNpdmU6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgYnJlYWtwb2ludDogNDgwLAogICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbSIsCiAgICAgICAgICAgICAgICBvZmZzZXRYOiAtMTAsCiAgICAgICAgICAgICAgICBvZmZzZXRZOiAwLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgcGxvdE9wdGlvbnM6IHsKICAgICAgICAgIGJhcjogewogICAgICAgICAgICBob3Jpem9udGFsOiBmYWxzZSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB4YXhpczogewogICAgICAgICAgdHlwZTogInN0cmluZyIsCiAgICAgICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgcG9zaXRpb246ICJyaWdodCIsCiAgICAgICAgICBvZmZzZXRZOiA0MCwKICAgICAgICB9LAogICAgICAgIGZpbGw6IHsKICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgfSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkVGVzdHMoKSB7CiAgICAgIGZldGNoKAogICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfVENfQVBJfS90ZXN0cy8ke3RoaXMuJHJvdXRlLnBhcmFtcy5zZXNzaW9uTmFtZX1gLAogICAgICAgIHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGxvY2FsU3RvcmFnZS5hZG1pblNlY3JldCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHRlc3RzKSA9PiB7CiAgICAgICAgICBpZiAodGVzdHMpIHsKICAgICAgICAgICAgbGV0IG9yZGVyZWRUZXN0cyA9IFtdOwogICAgICAgICAgICB0ZXN0cy5mb3JFYWNoKCh0ZXN0KSA9PiB7CiAgICAgICAgICAgICAgbGV0IG9yZGVyZWRUZXN0ID0ge307CiAgICAgICAgICAgICAgb3JkZXJlZFRlc3QubmFtZSA9IHRlc3QubmFtZTsKICAgICAgICAgICAgICBvcmRlcmVkVGVzdC5leGVyY2lzZXMgPSB0ZXN0LmV4ZXJjaXNlcy5sZW5ndGg7CiAgICAgICAgICAgICAgb3JkZXJlZFRlc3RzLnB1c2gob3JkZXJlZFRlc3QpOwogICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JkZXJlZFRlc3QuZXhlcmNpc2VzOyBpKyspIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRPcHRpb25zLnhheGlzLmNhdGVnb3JpZXMucHVzaChgJHt0ZXN0Lm5hbWV9IC0gRSR7aX1gKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnRlc3RzID0gb3JkZXJlZFRlc3RzOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGxvYWRSZXBvcnQodGVzdCwgZXhlcmNpc2UpIHsKICAgICAgZmV0Y2goCiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9UQ19BUEl9L3Rlc3RzLyR7dGhpcy4kcm91dGUucGFyYW1zLnNlc3Npb25OYW1lfS8ke3Rlc3R9LyR7ZXhlcmNpc2V9L3JlcG9ydHNgLAogICAgICAgIHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGxvY2FsU3RvcmFnZS5hZG1pblNlY3JldCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcG9ydHNSYXcpID0+IHsKICAgICAgICAgIHJlcG9ydHNSYXcuZm9yRWFjaCgocm9vbSwgaSkgPT4gewogICAgICAgICAgICBpZiAodGhpcy5zZXJpZXMubGVuZ3RoIDwgcmVwb3J0c1Jhdy5sZW5ndGgpIHRoaXMuc2VyaWVzLnB1c2goW10pOwogICAgICAgICAgICByb29tLmZvckVhY2goKHVzZXIsIHUpID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy5zZXJpZXNbaV0ubGVuZ3RoIDwgcm9vbS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGxldCB0b3RhbE0gPSB1c2VyLnRvdGFsTWVzc2FnZXMgfHwgMDsKICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzW2ldLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLnVzZXIsCiAgICAgICAgICAgICAgICAgIGRhdGE6IFt0b3RhbE1dLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IHVzZXIudG90YWxNZXNzYWdlcyB8fCAwOwogICAgICAgICAgICAgICAgdGhpcy5zZXJpZXNbaV1bdV0uZGF0YS5wdXNoKHRvdGFsKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnJlcG9ydHMucHVzaChyZXBvcnRzUmF3KTsKICAgICAgICB9KTsKICAgIH0sCiAgICB3cml0ZUNzdih1c2VyT3JkZXJlZCkgewogICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHVzZXJPcmRlcmVkWzBdKTsKICAgICAgdmFyIGhlYWRlciA9IFtdOwogICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGtleXMubGVuZ3RoOyBuKyspIHsKICAgICAgICBoZWFkZXIucHVzaCh7CiAgICAgICAgICBpZDoga2V5c1tuXSwKICAgICAgICAgIHRpdGxlOiBrZXlzW25dLnRvVXBwZXJDYXNlKCksCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGhlYWRlcjsKICAgICAgLy8gLy8gUGFzc2luZyB0aGUgY29sdW1uIG5hbWVzIGludHAgdGhlIG1vZHVsZQogICAgICAvLyBjb25zdCBjc3ZXcml0ZXIgPSBjcmVhdGVDc3ZXcml0ZXIoewogICAgICAvLyAgIC8vIE91dHB1dCBjc3YgZmlsZSBuYW1lIGlzIGdlZWtfZGF0YQogICAgICAvLyAgIHBhdGg6ICJkYXRhLmNzdiIsCiAgICAgIC8vICAgaGVhZGVyOiBoZWFkZXIsCiAgICAgIC8vIH0pOwogICAgICAvLyAvLyBXcml0ZXJlY29yZHMgZnVuY3Rpb24gdG8gYWRkIHJlY29yZHMKICAgICAgLy8gY3N2V3JpdGVyCiAgICAgIC8vICAgLndyaXRlUmVjb3Jkcyh1c2VyT3JkZXJlZCkKICAgICAgLy8gICAudGhlbigoKSA9PiBjb25zb2xlLmxvZygiRGF0YSB1cGxvYWRlZCBpbnRvIGNzdiBzdWNjZXNzZnVsbHkiKSk7CiAgICB9LAogICAgbG9hZFJlcG9ydHModXNlciwgcm9vbSkgewogICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1RDX0FQSX0vdXNlcnMvJHt1c2VyfS9yZXBvcnRzYCwgewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogbG9jYWxTdG9yYWdlLmFkbWluU2VjcmV0LAogICAgICAgIH0sCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy5zZXJpZXNbcm9vbV0pIHsKICAgICAgICAgICAgdGhpcy5zZXJpZXNbcm9vbV0ucHVzaChyZXNwb25zZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNlcmllc1tyb29tXSA9IFtyZXNwb25zZV07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgY2FsbERhdGEoc2Vzc2lvbk5hbWUsIHR5cGUpIHsKICAgICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9UQ19BUEl9L3Nlc3Npb25zLyR7c2Vzc2lvbk5hbWV9LyR7dHlwZX1gLCB7CiAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UuYWRtaW5TZWNyZXQsCiAgICAgICAgfSwKICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc2VyaWVzID0gcmVzcG9uc2U7CiAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50cyA9IG5ldyBBcnJheShyZXNwb25zZS5sZW5ndGgpOwogICAgICAgICAgdGhpcy5maW5pc2hMb2FkaW5nID0gdHJ1ZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBsb2FkRGF0YSh0eXBlKSB7CiAgICAgIHRoaXMuZmluaXNoTG9hZGluZyA9IGZhbHNlOwogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlICJtZXNzYWdlcyI6CiAgICAgICAgICB0aGlzLnJlcG9ydERhdGEgPSAiTWVzc2FnZXMiOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmlnaHRzIjoKICAgICAgICAgIHRoaXMucmVwb3J0RGF0YSA9ICJSaWdodCB0cmllcyI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJ3cm9uZ3MiOgogICAgICAgICAgdGhpcy5yZXBvcnREYXRhID0gIldyb25nIHRyaWVzIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImlucHV0cyI6CiAgICAgICAgICB0aGlzLnJlcG9ydERhdGEgPSAiQ29kZSBhZGRpdGlvbnMiOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiZGVsZXRpb25zIjoKICAgICAgICAgIHRoaXMucmVwb3J0RGF0YSA9ICJDb2RlIGRlbGV0aW9ucyI7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgICB0aGlzLmNhbGxEYXRhKHRoaXMuJHJvdXRlLnBhcmFtcy5zZXNzaW9uTmFtZSwgdHlwZSk7CiAgICB9LAogICAgbG9hZERhdGFzZXQoKSB7CiAgICAgIGZldGNoKAogICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfVENfQVBJfS9kYXRhc2V0L2AgKwogICAgICAgICAgdGhpcy4kcm91dGUucGFyYW1zLnNlc3Npb25OYW1lLAogICAgICAgIHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGxvY2FsU3RvcmFnZS5hZG1pblNlY3JldCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICBsZXQgZmlsZW5hbWUgPSAici5jc3YiOwogICAgICAgICAgbGV0IHRleHQgPSB0aGlzLiRwYXBhLnVucGFyc2UocmVzcG9uc2UpOwoKICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoCiAgICAgICAgICAgICJocmVmIiwKICAgICAgICAgICAgImRhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpCiAgICAgICAgICApOwogICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgZmlsZW5hbWUpOwoKICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CgogICAgICAgICAgZWxlbWVudC5jbGljaygpOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkVGVzdHMoKTsKICB9LAp9Owo="},{"version":3,"sources":["Reports.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Reports.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <Header />\n    <div class=\"text-center align-middle\">\n      <div class=\"inline-block w-full max-w-screen-xl\">\n        <div class=\"text-left\">\n          <h1 class=\"p-5 text-2xl md:text-3xl md:ml-3 font-semibold\">\n            {{ reportData }} in {{ this.$route.params.sessionName }} session\n          </h1>\n        </div>\n\n        <div class=\"p-3\">\n          <button\n            class=\"\n              border\n              rounded-md\n              p-5\n              hover:text-indigo-900\n              hover:bg-indigo-100\n              hover:border-indigo-400\n              mx-2\n            \"\n            @click=\"loadData('messages')\"\n          >\n            Load messages\n            <img\n              class=\"w-8 mt-3 mx-auto\"\n              src=\"https://img.icons8.com/metro/52/000000/chat.png\"\n            />\n          </button>\n          <button\n            class=\"\n              border\n              rounded-md\n              p-5\n              hover:text-green-900\n              hover:bg-green-100\n              hover:border-green-400\n              mx-2\n            \"\n            @click=\"loadData('rights')\"\n          >\n            Load right tries\n            <img\n              class=\"w-8 mt-3 mx-auto\"\n              src=\"https://img.icons8.com/material/48/000000/checkmark--v1.png\"\n            />\n          </button>\n          <button\n            class=\"\n              border\n              rounded-md\n              p-5\n              hover:text-red-900\n              hover:bg-red-100\n              hover:border-red-400\n              mx-2\n            \"\n            @click=\"loadData('wrongs')\"\n          >\n            Load wrong tries\n            <img\n              class=\"w-8 mt-3 mx-auto\"\n              src=\"https://img.icons8.com/material-sharp/48/000000/multiply.png\"\n            />\n          </button>\n          <button\n            class=\"\n              border\n              rounded-md\n              p-5\n              hover:text-yellow-900\n              hover:bg-yellow-100\n              hover:border-yellow-400\n              mx-2\n            \"\n            @click=\"loadData('inputs')\"\n          >\n            Load code additions\n            <img\n              class=\"w-8 mt-3 mx-auto\"\n              src=\"https://img.icons8.com/ios/50/000000/shift-mac.png\"\n            />\n          </button>\n          <button\n            class=\"\n              border\n              rounded-md\n              p-5\n              hover:text-purple-900\n              hover:bg-purple-100\n              hover:border-purple-400\n              mx-2\n            \"\n            @click=\"loadData('deletions')\"\n          >\n            Load code deletions\n            <img\n              class=\"w-8 mt-3 mx-auto\"\n              src=\"https://img.icons8.com/ios/50/000000/delete-key.png\"\n            />\n          </button>\n          <button\n            class=\"\n              border\n              rounded-md\n              p-5\n              hover:text-indigo-900\n              hover:bg-indigo-100\n              hover:border-indigo-400\n              mx-2\n            \"\n            @click=\"loadDataset()\"\n          >\n            Load statistics\n            <img\n              class=\"w-8 mt-3 mx-auto\"\n              src=\"https://img.icons8.com/ios/50/000000/statistics.png\"\n            />\n          </button>\n        </div>\n        <!-- Content -->\n        <div\n          v-if=\"finishLoading\"\n          class=\"p-3 text-left max-w-4xl mx-auto mb-20 relative\"\n        >\n          <div v-for=\"(room, index) in participants\" :key=\"index\">\n            <div v-if=\"series[index] != null\">\n              <p>Room {{ index }}:</p>\n              <div id=\"chart\">\n                <apexchart\n                  type=\"bar\"\n                  height=\"350\"\n                  :options=\"chartOptions\"\n                  :series=\"series[index]\"\n                ></apexchart>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"../components/Header\";\nimport VueApexCharts from \"vue-apexcharts\";\nimport Vue from 'vue'\nimport VuePapaParse from 'vue-papa-parse'\nVue.use(VuePapaParse)\n\nexport default {\n  components: {\n    Header,\n    apexchart: VueApexCharts,\n  },\n  data() {\n    return {\n      tests: [],\n      reportData: \"Reports\",\n      series: [],\n      participants: [],\n      finishLoading: false,\n      chartOptions: {\n        chart: {\n          type: \"bar\",\n          height: 350,\n          stacked: true,\n          toolbar: {\n            show: true,\n          },\n          zoom: {\n            enabled: true,\n          },\n        },\n        responsive: [\n          {\n            breakpoint: 480,\n            options: {\n              legend: {\n                position: \"bottom\",\n                offsetX: -10,\n                offsetY: 0,\n              },\n            },\n          },\n        ],\n        plotOptions: {\n          bar: {\n            horizontal: false,\n          },\n        },\n        xaxis: {\n          type: \"string\",\n          categories: [],\n        },\n        legend: {\n          position: \"right\",\n          offsetY: 40,\n        },\n        fill: {\n          opacity: 1,\n        },\n      },\n    };\n  },\n  methods: {\n    loadTests() {\n      fetch(\n        `${process.env.VUE_APP_TC_API}/tests/${this.$route.params.sessionName}`,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: localStorage.adminSecret,\n          },\n        }\n      )\n        .then((response) => {\n          if (response.status == 200) {\n            return response.json();\n          }\n        })\n        .then((tests) => {\n          if (tests) {\n            let orderedTests = [];\n            tests.forEach((test) => {\n              let orderedTest = {};\n              orderedTest.name = test.name;\n              orderedTest.exercises = test.exercises.length;\n              orderedTests.push(orderedTest);\n              for (let i = 0; i < orderedTest.exercises; i++) {\n                this.chartOptions.xaxis.categories.push(`${test.name} - E${i}`);\n              }\n            });\n            this.tests = orderedTests;\n          }\n        });\n    },\n    loadReport(test, exercise) {\n      fetch(\n        `${process.env.VUE_APP_TC_API}/tests/${this.$route.params.sessionName}/${test}/${exercise}/reports`,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: localStorage.adminSecret,\n          },\n        }\n      )\n        .then((response) => {\n          if (response.status == 200) {\n            return response.json();\n          }\n        })\n        .then((reportsRaw) => {\n          reportsRaw.forEach((room, i) => {\n            if (this.series.length < reportsRaw.length) this.series.push([]);\n            room.forEach((user, u) => {\n              if (this.series[i].length < room.length) {\n                let totalM = user.totalMessages || 0;\n                this.series[i].push({\n                  name: user.user,\n                  data: [totalM],\n                });\n              } else {\n                let total = user.totalMessages || 0;\n                this.series[i][u].data.push(total);\n              }\n            });\n          });\n          this.reports.push(reportsRaw);\n        });\n    },\n    writeCsv(userOrdered) {\n      var keys = Object.keys(userOrdered[0]);\n      var header = [];\n      for (let n = 0; n < keys.length; n++) {\n        header.push({\n          id: keys[n],\n          title: keys[n].toUpperCase(),\n        });\n      }\n      return header;\n      // // Passing the column names intp the module\n      // const csvWriter = createCsvWriter({\n      //   // Output csv file name is geek_data\n      //   path: \"data.csv\",\n      //   header: header,\n      // });\n      // // Writerecords function to add records\n      // csvWriter\n      //   .writeRecords(userOrdered)\n      //   .then(() => console.log(\"Data uploaded into csv successfully\"));\n    },\n    loadReports(user, room) {\n      fetch(`${process.env.VUE_APP_TC_API}/users/${user}/reports`, {\n        method: \"GET\",\n        headers: {\n          Authorization: localStorage.adminSecret,\n        },\n      })\n        .then((response) => {\n          return response.json();\n        })\n        .then((response) => {\n          if (this.series[room]) {\n            this.series[room].push(response);\n          } else {\n            this.series[room] = [response];\n          }\n        });\n    },\n    callData(sessionName, type) {\n      fetch(`${process.env.VUE_APP_TC_API}/sessions/${sessionName}/${type}`, {\n        method: \"GET\",\n        headers: {\n          Authorization: localStorage.adminSecret,\n        },\n      })\n        .then((response) => {\n          return response.json();\n        })\n        .then((response) => {\n          this.series = response;\n          this.participants = new Array(response.length);\n          this.finishLoading = true;\n        });\n    },\n    loadData(type) {\n      this.finishLoading = false;\n      switch (type) {\n        case \"messages\":\n          this.reportData = \"Messages\";\n          break;\n        case \"rights\":\n          this.reportData = \"Right tries\";\n          break;\n        case \"wrongs\":\n          this.reportData = \"Wrong tries\";\n          break;\n        case \"inputs\":\n          this.reportData = \"Code additions\";\n          break;\n        case \"deletions\":\n          this.reportData = \"Code deletions\";\n          break;\n      }\n      this.callData(this.$route.params.sessionName, type);\n    },\n    loadDataset() {\n      fetch(\n        `${process.env.VUE_APP_TC_API}/dataset/` +\n          this.$route.params.sessionName,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: localStorage.adminSecret,\n          },\n        }\n      )\n        .then((response) => {\n          return response.json();\n        })\n        .then((response) => {\n          console.log(response);\n          let filename = \"r.csv\";\n          let text = this.$papa.unparse(response);\n\n          let element = document.createElement(\"a\");\n          element.setAttribute(\n            \"href\",\n            \"data:text/csv;charset=utf-8,\" + encodeURIComponent(text)\n          );\n          element.setAttribute(\"download\", filename);\n\n          element.style.display = \"none\";\n          document.body.appendChild(element);\n\n          element.click();\n          document.body.removeChild(element);\n          return response;\n        });\n    },\n  },\n  mounted() {\n    this.loadTests();\n  },\n};\n</script>\n\n<style></style>\n"]}]}